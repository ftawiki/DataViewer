(this.webpackJsonpxcf=this.webpackJsonpxcf||[]).push([[0],{205:function(e,a,t){e.exports=t(429)},210:function(e,a,t){},424:function(e,a,t){},425:function(e,a,t){},427:function(e,a,t){},429:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(33),c=t.n(r),o=(t(210),t(12)),i=t(31),u=t(48),s=t(3),m=t(8),E=t(10),d=t.n(E),v=t(18),f=t(132),b=t(196),p=t.n(b),h=t(63),g=t.n(h),y={"en-US":"English (US)","en-GB":"English (UK)",bg:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",cs:"\u010cesky",cy:"Cymraeg",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",et:"Eesti","es-ES":"Espa\xf1ol (ES)","es-419":"Espa\xf1ol (AL)",fr:"Fran\xe7ais (FR)","fr-CA":"Fran\xe7ais (CA)",fi:"Suomi",hr:"Hrvatski",hu:"Magyar",it:"Italiano",ja:"\u65e5\u672c\u8a9e",ko:"\ud55c\uad6d\uc5b4",lb:"L\xebtzebuergesch",lv:"Latvie\u0161u",nl:"Nederlands",no:"Norsk",pl:"Polski","pt-BR":"Portugu\xeas (BR)","pt-PT":"Portugu\xeas (PT)",ro:"Rom\xe2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sv:"Svenska",th:"\u0e44\u0e17\u0e22",tr:"T\xfcrk\xe7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430","zh-CN":"\u4e2d\u6587","zh-TW":"\u6587\u8a00"},S=function(e,a){return fetch(e,a&&sessionStorage.getItem("auth")?{headers:{Authorization:"Basic ".concat(sessionStorage.getItem("auth"))}}:void 0)},T=function(e,a){return S(e,a).then((function(e){return e.json()}))},R=function(e,a){return S(e,a).then((function(e){return e.text()}))},A=function(e,a,t){var n="string"===typeof a?function(e){return e[a]}:a,l=t?"string"===typeof t?function(e){return e[t]}:t:function(e){return e};return e.reduce((function(e,a){return e[n(a)]=l(a),e}),{})};function O(e,a){return Object.keys(y).filter((function(t){return e[t]||a[t]}))}var w,_=t(49),I=t(99),M=t(100),k=function(){function e(a){Object(I.a)(this,e),this.repoName=a}return Object(M.a)(e,[{key:"getUrl",value:function(e,a){return"https://raw.githubusercontent.com/".concat(this.repoName,"/").concat(e,"/").concat(a)}},{key:"loadVersions",value:function(){var e=Object(v.a)(d.a.mark((function e(){var a,t,n,l,r=this,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:"master",e.next=3,T("https://api.github.com/repos/".concat(this.repoName,"/branches"),!0);case 3:return t=e.sent,e.next=6,T("https://api.github.com/repos/".concat(this.repoName,"/tags"),!0);case 6:return n=e.sent,l=t.find((function(e){return e.name===a})),this.versions=Object(_.a)({},a,l.commit),n.forEach((function(e){r.versions[e.name]=e.commit})),e.abrupt("return",this.versions);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadSHA",value:function(){var e=Object(v.a)(d.a.mark((function e(a,t){var n,l,r,c,o,i,u,s=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.github.com/repos/".concat(this.repoName,"/commits/").concat(a),e.next=3,T(n,!0);case 3:return l=e.sent,r=l.commit.tree.url,e.next=7,T("".concat(r,"?recursive=true"),!0);case 7:return c=e.sent,o=c.tree,i=new Set,u=new Set,o.forEach((function(e){t&&!t.find((function(a){return e.path.startsWith(a)}))||(e.path.match(/Language\/.*\.yml/)&&i.add(s.getUrl(a,e.path)),e.path.match(/.*\.rul/)&&u.add(s.getUrl(a,e.path)))})),e.abrupt("return",[i,u]);case 13:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(v.a)(d.a.mark((function e(a){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.versions[a]){e.next=3;break}throw new Error("Unknown version: ".concat(a,". Did you loadVersions() first?"));case 3:return e.abrupt("return",this.loadSHA(t.sha));case 4:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()}]),e}(),N=function(e){return function(a){var t,n=sessionStorage.getItem(e);return Promise.resolve(n?null===(t=JSON.parse(n))||void 0===t?void 0:t[a]:void 0)}},C=function(e,a){return function(t){var n=sessionStorage.getItem(e),l=n?JSON.parse(n):{};return l[t[a]]=t,sessionStorage.setItem(e,JSON.stringify(l)),Promise.resolve()}},x={config:{toArray:function(){var e=sessionStorage.getItem("config");return Promise.resolve(e?JSON.parse(e):[])},put:C("config","repo"),get:N("config"),clear:function(){return sessionStorage.removeItem("config"),Promise.resolve()},bulkPut:function(e){return sessionStorage.setItem("config",JSON.stringify(e)),Promise.resolve()}},versions:{get:N("versions"),put:C("versions","repo")},rulesets:{get:function(){return Promise.resolve()},put:function(){return Promise.resolve()}},precompiled:{}};function D(){var e=new f.a("xcom");return e.version(1).stores({config:"key",versions:"repo,lastFetched",rulesets:"sha,lastFetched",precompiled:"[baseSha+modSha], lastGenerated"}),e}function F(){return B.apply(this,arguments)}function B(){return(B=Object(v.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=D(),e.next=4,a.open();case 4:return e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",x);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function j(e){return P.apply(this,arguments)}function P(){return(P=Object(v.a)(d.a.mark((function e(a){var t,n,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.config.toArray();case 2:if(t=e.sent,(n=t.length?A(t,"key","value"):null)&&n.lastFetched&&!(Date.now()-n.lastFetched>864e5)){e.next=16;break}return a&&a(["LOADING_CONFIG"]),e.next=8,T("/config.json");case 8:return l=e.sent,e.next=11,w.config.clear();case 11:return e.next=13,w.config.bulkPut(Object.keys(l).map((function(e){return{key:e,value:l[e]}})));case 13:return e.next=15,w.config.put({key:"lastFetched",value:Date.now()});case 15:return e.abrupt("return",l);case 16:return e.abrupt("return",n);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,a,t){return G.apply(this,arguments)}function G(){return(G=Object(v.a)(d.a.mark((function e(a,t,n){var l,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.versions.get(a);case 2:if((l=e.sent)&&l.lastFetched&&!(Date.now()-l.lastFetched>864e5)){e.next=13;break}return r=new k(a),e.next=7,r.loadVersions(t);case 7:return c=e.sent,console.log("fetching version info for ".concat(a,"...")),n&&n(["LOADING_VERSIONS",a]),e.next=12,w.versions.put({repo:a,lastFetched:Date.now(),versions:c});case 12:return e.abrupt("return",c);case 13:return console.log("cached version info found for ".concat(a)),e.abrupt("return",l.versions);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,a,t){var n=function(e){if(e.fileSingle){var n=e.fileSingle;e.fileSingle=a.getUrl(t,n)}else Object.keys(e.files).forEach((function(n){var l=e.files[n];e.files[n]=a.getUrl(t,l)}))};return e.extraSprites&&e.extraSprites.forEach(n),e.extraSounds&&e.extraSounds.forEach(n),e}function U(e,a,t,n){return z.apply(this,arguments)}function z(){return(z=Object(v.a)(d.a.mark((function e(a,t,n,l){var r,c,o,i,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.rulesets.get(t);case 2:if(!(r=e.sent)){e.next=6;break}return console.log("cached ruleset info found for ".concat(t,"...")),e.abrupt("return",r.ruleset);case 6:return c=new k(a),console.log("loading filelist for ".concat(a,"@").concat(t)),l&&l(["LOADING_FILELIST",a,t]),e.next=11,c.loadSHA(t,n);case 11:return o=e.sent,console.log("generating ruleset for ".concat(a,"@").concat(t)),e.next=15,W(o,l);case 15:return i=e.sent,u=H(i,c,t),e.next=19,w.rulesets.put({sha:t,ruleset:u,lastFetched:Date.now()});case 19:return e.abrupt("return",u);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,a){return q.apply(this,arguments)}function q(){return(q=Object(v.a)(d.a.mark((function e(a,t){var n,l,r,c,o,i,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(s.a)(a,2),l=n[0],r=n[1],c=[].concat(Object(m.a)(l),Object(m.a)(r)),o=0,t&&t(["LOADING_FILE",null,o,c.length]),i=c.map((function(e){return R(e).then((function(a){try{var n=p.a.safeLoad(a,{json:!0});return o++,t&&t(["LOADING_FILE",e,o,c.length]),n}catch(l){throw console.error(e),l}}))})),e.next=7,Promise.all(i);case 7:return u=e.sent,e.abrupt("return",u.reduce((function(e,a){return g()(e,a)})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return(K=Object(v.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.config.put({key:"currentLanguage",value:a}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return V.apply(this,arguments)}function V(){return(V=Object(v.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.delete();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(v.a)(d.a.mark((function e(a){var t,n,l,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=4;break}return e.next=3,F();case 3:w=e.sent;case 4:return e.next=6,j();case 6:return t=e.sent,n=t.modRepo,l=t.modBranch,e.next=10,L(n,l,a);case 10:return r=e.sent,e.abrupt("return",{modVersions:r,config:t});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,a,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(v.a)(d.a.mark((function e(a,t,n){var l,r,c,o,i,u,s,m,E,v,f,b,p,h,y,S;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=4;break}return e.next=3,F();case 3:w=e.sent;case 4:return e.next=6,j();case 6:return r=e.sent,c=r.baseRepo,o=r.basePath,i=r.baseBranch,u=void 0===i?"master":i,s=r.modBranch,m=r.modRepo,e.next=10,L(c,u,n);case 10:return E=e.sent,e.next=13,L(m,s,n);case 13:return v=e.sent,f=E[u].sha,e.next=17,U(c,f,o,n);case 17:if(b=e.sent,p=null===(l=v[a])||void 0===l?void 0:l.sha){e.next=21;break}throw new Error("Unknown mod version: ".concat(a));case 21:return e.next=23,U(m,p,null,n);case 23:return h=e.sent,y=O(b,h),console.log("supported languages:",y),n&&n(["COMPILING_RULESET"]),S=t?t(b,h):g()(b,h),e.abrupt("return",{config:r,supportedLanguages:y,ruleset:S});case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){var e=Object(n.useState)(),a=Object(s.a)(e,2),t=a[0],l=a[1],r=Object(n.useState)(),c=Object(s.a)(r,2),o=c[0],i=c[1];Object(n.useEffect)((function(){(function(e){return Y.apply(this,arguments)})().then((function(e){var a=e.modVersions,t=e.config;t.currentLanguage?i(t):i(Object(u.a)({},t,{currentLanguage:"en-US"})),l(a)}))}),[]);var m=Object(n.useCallback)((function(e){!function(e){K.apply(this,arguments)}(e),i(Object(u.a)({},o,{currentLanguage:e}))}),[o]);return{versions:t,config:o,setLanguage:m,clearDB:Z}}window.xcom=$,window.dexie=f.a;var J=t(44),ee=t(204),ae=t(137),te=t(109),ne=t(138),le=t(110),re=t(106),ce=t(107),oe=t(25),ie=t(197),ue=t(64),se=["deploymentsById","deploymentsByRegion","missionsByRegion","regionsByDeployment","raceByRegion","raceByMission","missionsByDeployment","deploymentsByMission","raceByDeployment"];function me(e,a,t,n){(e[a][n]||new Set).forEach((function(a){e[t][a].delete(n)})),delete e[a][n]}function Ee(e){var a=new Set;return e?(Object.values(e).forEach((function(e){Object.keys(e).forEach((function(e){a.add(e)}))})),a):a}function de(e,a){var t,n;null===(t=a.alienMissions)||void 0===t||null===(n=t.forEach)||void 0===n||n.call(t,(function(a){if(a.delete)return delete e.raceByMission[a.delete],void me(e,"deploymentsByMission","missionsByDeployment",a.delete);var t=Ee(a.raceWeights),n=function(e){switch(e.objective){case 1:return new Set(e.siteType?[e.siteType]:[]);case 2:return new Set(e.siteType?[e.siteType]:["STR_ALIEN_BASE_ASSAULT"]);case 3:return new Set;default:return new Set(e.waves.map((function(e){return e.ufo})))}}(a);e.raceByMission[a.type]=t,e.deploymentsByMission[a.type]=e.deploymentsByMission[a.type]||new Set,n.forEach((function(t){e.deploymentsByMission[a.type].add(t),e.missionsByDeployment[t]=e.missionsByDeployment[t]||new Set,e.missionsByDeployment[t].add(a.type)}))}))}function ve(e,a){!function(e){se.forEach((function(a){e[a]||(e[a]={})}))}(e),function(e,a){var t,n,l;null===(t=a.globe)||void 0===t||null===(n=t.textures)||void 0===n||null===(l=n.forEach)||void 0===l||l.call(n,(function(a){a.deployments&&(e.deploymentsById[a.id]=Object.keys(a.deployments))}))}(e,a),function(e,a){var t,n;null===(t=a.regions)||void 0===t||null===(n=t.forEach)||void 0===n||n.call(t,(function(a){var t=a.type,n=a.missionZones,l=new Set;if(a.delete)return me(e,"deploymentsByRegion","regionsByDeployment",a.delete),delete e.missionsByRegion[a.delete],void delete e.raceByRegion[a.delete];if(null===n||void 0===n||n.forEach((function(e){e.forEach((function(e){e.length<=4||l.add(e[4])}))})),l.size){var r=Object(m.a)(l).reduce((function(a,t){return e.deploymentsById[t]||console.warn("no deployment corresponding to region: ".concat(t)),e.deploymentsById[t].forEach((function(e){return a.add(e)})),a}),new Set);e.deploymentsByRegion[t]=r,r.forEach((function(a){e.regionsByDeployment[a]=e.regionsByDeployment[a]||new Set,e.regionsByDeployment[a].add(t)}))}}))}(e,a),function(e,a){var t,n;null===(t=a.missionScripts)||void 0===t||null===(n=t.forEach)||void 0===n||n.call(t,(function(a){var t=Ee(a.regionWeights),n=Ee(a.missionWeights),l=Ee(a.raceWeights);t.size?t.forEach((function(a){e.missionsByRegion[a]=e.missionsByRegion[a]||new Set,e.raceByRegion[a]=e.raceByRegion[a]||new Set,n.forEach((function(t){e.missionsByRegion[a].add(t),(e.deploymentsByRegion[a]||new Set).forEach((function(a){e.missionsByDeployment[a]=e.missionsByDeployment[a]||new Set,e.missionsByDeployment[a].add(t)}))})),l.forEach((function(t){return e.raceByRegion[a].add(t)}))})):n.forEach((function(a){(e.deploymentsByMission[a]||new Set).forEach((function(t){e.missionsByDeployment[t]=e.missionsByDeployment[t]||new Set,e.missionsByDeployment[t].add(a),e.deploymentsByMission[a]=e.deploymentsByMission[a]||new Set,e.deploymentsByMission[a].add(t),e.raceByDeployment[t]=e.raceByDeployment[t]||new Set,l.forEach((function(a){e.raceByDeployment[t].add(a)}))})),l.forEach((function(t){e.raceByMission[t]=e.raceByMission[t]||new Set,e.raceByMission[t].add(a)}))}))}))}(e,a),de(e,a)}function fe(e,a,t){e.items&&Object.keys(e.items).forEach((function(e){return a.add(e)})),e.randomizedItems&&e.randomizedItems.forEach((function(e){e.itemList.forEach((function(e){return t.add(e)}))}))}function be(e){e.eventScriptsByEvent={};Object.entries(e.eventScripts||{}).forEach((function(a){var t=Object(s.a)(a,2),n=t[0],l=t[1],r=function(a){return function(t){e.eventScriptsByEvent[t]=e.eventScriptsByEvent[t]||new Set,e.eventScriptsByEvent[t].add(a)}}(n);(l.oneTimeSequentialEvents||[]).forEach(r),Object.values(l.eventWeights||{}).forEach((function(e){Object.keys(e).forEach(r)})),Object.keys(l.oneTimeRandomEvents||{}).forEach(r)}))}var pe=[{section:"items",key:"type",filter:function(e,a,t){return!1!==e.recover&&(11!==e.battleType||!1!==e.recoverCorpse)}},{section:"manufacture",key:"name"},{section:"research",key:"name"},{section:"facilities",key:"type"},{section:"crafts",key:"type"},{section:"craftWeapons",key:"type"},{section:"ufos",key:"type"},{section:"units",key:"type"},{section:"soldiers",key:"type"},{section:"soldierTransformation",key:"name"},{section:"commendations",key:"type"},{section:"events",key:"name"},{section:"armors",key:"type"},{section:"alienDeployments",key:"type"},{section:"alienRaces",key:"id",filter:function(e,a,t){return Object.keys(a[t]).length>1}},{section:"terrains",key:"name",filter:function(e,a,t){return Object.keys(a[t]).length>1}},{section:"ufopaedia",key:"id",omit:function(e,a,t){return a[t]}}],he=[{section:"soldierBonuses",key:"name"},{section:"eventScripts",key:"type"}];function ge(e,a,t){var n=t.section,l=t.key,r=t.filter,c=t.omit;(a[n]||[]).forEach((function(a){var t=a[l];if(a.delete)return e[a.delete]&&delete e[a.delete][n],void(e[a.delete]&&!Object.keys(e[a.delete]).filter((function(e){return"hide"!==e})).length&&delete e[a.delete]);if(t&&(!c||c(a,e,t))){if(e[t]){var o=Object.assign({},e[t][n],a);Object.assign(e[t],Object(_.a)({},n,o))}else e[t]=Object(_.a)({},n,a);r&&!r(a,e,t)&&(e[t].hide=!0)}}))}function ye(e,a,t){var n=t.section,l=t.key,r=t.omit,c=a[n]||[];e[n]||(e[n]={});var o=e[n];c.forEach((function(a){var t=a[l];a.delete?o[a.delete]&&delete o[a.delete]:t&&(r&&!r(a,e,t)||(o[t]?Object.assign(o[t],a):o[t]=a))}))}function Se(e,a){a&&a.forEach((function(a){var t=a.typeSingle||a.type;a.delete&&e[a.delete]?delete e[a.delete]:t&&(e[t]?e[t]=g()(e[t],a):e[t]=a)}))}var Te=[];function Re(e,a,t,n,l){if(t){var r,c=Object(ue.a)(t);try{for(c.s();!(r=c.n()).done;){var o,i=null===(o=e[r.value])||void 0===o?void 0:o[n];i&&(i[l]=i[l]||new Set,i[l].add(a),Te.push([i,l]))}}catch(u){c.e(u)}finally{c.f()}}}function Ae(e,a,t,n,l){var r=e[a],c="function"===typeof t?t(r):t;if(c){var o,i=Object(ue.a)(c);try{for(i.s();!(o=i.n()).done;){var u,s=null===(u=e[o.value])||void 0===u?void 0:u[n];s&&(s[l]=s[l]||[],s[l].push(a))}}catch(m){i.e(m)}finally{i.f()}}}var Oe=["maxViewDistance"];function we(e,a){var t,n={languages:{},entries:{},sprites:{},sounds:{},prisons:{},globalVars:{},lookups:{}};O(e,a).forEach((function(t){n.languages[t]=a[t]?g()(e[t],a[t]):e[t]})),Oe.forEach((function(t){return n.globalVars[t]=e[t]||a[t]})),pe.forEach((function(t){ge(n.entries,e,t),ge(n.entries,a,t)})),he.forEach((function(t){ye(n.lookups,e,t),ye(n.lookups,a,t)})),Se(n.sprites,e.extraSprites),Se(n.sprites,a.extraSprites),Se(n.sounds,e.extraSounds),Se(n.sounds,a.extraSounds),ve(n.lookups,e),ve(n.lookups,a),t=n.lookups,Object.entries(t.regionsByDeployment).forEach((function(e){var a=Object(s.a)(e,2),n=a[0],l=a[1];t.raceByDeployment[n]=t.raceByDeployment[n]||new Set,l.forEach((function(e){var a;(null!==(a=t.raceByRegion[e])&&void 0!==a?a:new Set).forEach((function(e){return t.raceByDeployment[n].add(e)}))}))})),Object.entries(t.missionsByDeployment).forEach((function(e){var a=Object(s.a)(e,2),n=a[0],l=a[1];t.raceByDeployment[n]=t.raceByDeployment[n]||new Set,l.forEach((function(e){var a;(null!==(a=t.raceByMission[e])&&void 0!==a?a:new Set).forEach((function(e){return t.raceByDeployment[n].add(e)}))}))})),be(n.lookups);var l=function(e){var a,t,l,r=n.entries[e],c=r.research||{},o=r.manufacture||{},i=r.facilities||{},u=r.craftWeapons||{},E=r.armors||{},d=r.ufos||{},v=r.units||{},f=r.alienDeployments||{},b=r.soldierTransformation||{},p=r.commendations||{};if(Ae(n.entries,e,c.dependencies,"research","leadsTo"),Ae(n.entries,e,c.unlocks,"research","unlockedBy"),Ae(n.entries,e,c.getOneFree,"research","freeFrom"),Ae(n.entries,e,[c.lookup],"research","seeAlso"),Ae(n.entries,e,o.requires,"research","manufacture"),Ae(n.entries,e,o.producedItems&&Object.keys(o.producedItems),"items","manufacture"),Ae(n.entries,e,o.requiredItems&&Object.keys(o.requiredItems),"items","componentOf"),Ae(n.entries,e,[u.launcher],"items","craftWeapons"),Ae(n.entries,e,[u.clip],"items","craftAmmo"),Ae(n.entries,e,i.buildOverFacilities,"facilities","upgradesTo"),Ae(n.entries,e,[o.spawnedPersonType],"soldiers","manufacture"),Ae(n.entries,e,[v.armor],"armors","npcUnits"),Ae(n.entries,e,v.units,"soldiers","usableArmors"),Ae(n.entries,e,[E.storeItem],"items","wearableArmors"),Ae(n.entries,e,b.requires,"research","$allowsTransform"),Ae(n.entries,e,b.allowedSoldierTypes,"soldiers","$allowedTransform"),Ae(n.entries,e,function(e,a){var t=new Set;return a?(a.forEach((function(a){a.forEach((function(a){var n=Object(s.a)(a,2);n[0];n[1].forEach((function(a){var n;(null===(n=e[a])||void 0===n?void 0:n.items)&&t.add(a)}))}))})),Object(m.a)(t)):null}(n.entries,p.killCriteria),"items","$givesCommendation"),Re(n.entries,e,[f.nextStage],"alienDeployments","$prevStage"),Re(n.entries,e,[c.spawnedItem],"items","foundFrom"),d.raceBonus&&Object.entries(d.raceBonus).forEach((function(a){var t=Object(s.a)(a,2),l=t[0],r=t[1];r.craftCustomDeploy&&(n.lookups.raceByDeployment[r.craftCustomDeploy]=n.lookups.raceByDeployment[r.craftCustomDeploy]||new Set,n.lookups.raceByDeployment[r.craftCustomDeploy].add(l),Re(n.entries,e,[r.craftCustomDeploy],"alienDeployments","$variant")),r.missionCustomDeploy&&(n.lookups.raceByDeployment[r.missionCustomDeploy]=n.lookups.raceByDeployment[r.missionCustomDeploy]||new Set,n.lookups.raceByDeployment[r.missionCustomDeploy].add(l),Re(n.entries,e,[r.missionCustomDeploy],"alienDeployments","$variant"))})),r.items){var h=function(e){var a=new Set,t=e.items||{};return t.compatibleAmmo&&t.compatibleAmmo.forEach((function(e){return a.add(e)})),t.ammo&&Object.values(t.ammo).forEach((function(e){e.compatibleAmmo&&e.compatibleAmmo.forEach((function(e){return a.add(e)}))})),a.size?Object(m.a)(a):void 0}(r);h&&(r.items.allCompatibleAmmo=h)}Ae(n.entries,e,null===(a=r.items)||void 0===a?void 0:a.allCompatibleAmmo,"items","ammoFor"),void 0!==(null===(t=r.facilities)||void 0===t?void 0:t.prisonType)&&(n.prisons[r.facilities.prisonType]=n.prisons[r.facilities.prisonType]||[],n.prisons[r.facilities.prisonType].push(e)),r.alienDeployments&&!(null===(l=n.lookups.raceByDeployment[e])||void 0===l?void 0:l.size)&&(r.hide=!0),function(e,a,t){var n,l,r,c,o,i=a.entries[t],u=i.alienDeployments||{},E=i.ufos||{},d=i.units||{},v=(null===(n=u.data)||void 0===n?void 0:n.reduce((function(e,a){return a.itemSets.forEach((function(a){a.forEach((function(a){e.add(a)}))})),e}),new Set))||null;e(a.entries,t,v&&Object(m.a)(v),"items","foundFrom"),e(a.entries,t,[u.missionBountyItem],"items","foundFrom");var f=(null===(l=u.terrains)||void 0===l?void 0:l.reduce((function(e,t){var n=a.entries[t].terrains,l=Object(s.a)(e,2),r=l[0],c=l[1];return n.mapBlocks.forEach((function(e){fe(e,r,c)})),e}),[new Set,new Set]))||[],b=Object(s.a)(f,2),p=b[0],h=b[1];p&&p.size&&(i.alienDeployments.terrainItems=Object(m.a)(p),e(a.entries,t,Object(m.a)(p),"items","foundFrom")),h&&h.size&&(i.alienDeployments.terrainRandomItems=Object(m.a)(h),e(a.entries,t,Object(m.a)(p),"items","foundFrom"));var g=(null===(r=E.battlescapeTerrainData)||void 0===r||null===(c=r.mapBlocks)||void 0===c?void 0:c.reduce((function(e,a){var t=Object(s.a)(e,2);return fe(a,t[0],t[1]),e}),[new Set,new Set]))||[],y=Object(s.a)(g,2),S=y[0],T=y[1];S&&S.size&&(i.ufos.ufoItems=Object(m.a)(S),e(a.entries,t,Object(m.a)(S),"items","foundFrom")),T&&T.size&&(i.ufos.ufoRandomItems=Object(m.a)(T),e(a.entries,t,Object(m.a)(T),"items","foundFrom"));var R=null===(o=d.builtInWeaponSets)||void 0===o?void 0:o.reduce((function(e,a){return a.forEach((function(a){return e.add(a)})),e}),new Set);e(a.entries,t,R&&Object(m.a)(R),"items","foundFrom")}(Re,n,e)};for(var r in n.entries)l(r);return Te.forEach((function(e){var a=Object(s.a)(e,2),t=a[0],n=a[1];t[n]instanceof Set&&(t[n]=Object(m.a)(t[n]))})),n}var _e={INIT:function(){return{status:"Initializing...",min:0,max:10,now:10}},LOADING_CONFIG:function(){return{status:"Loading Config...",min:0,max:0,now:0}},LOADING_VERSIONS:function(e){var a=Object(s.a)(e,1)[0];return{status:"Loading versions for repo: ".concat(a),min:0,max:0,now:0}},LOADING_FILELIST:function(e){var a=Object(s.a)(e,2),t=a[0],n=a[1];return{status:"Loading file list for: ".concat(t,"@").concat(n),min:0,max:0,now:0}},LOADING_FILE:function(e){var a=Object(s.a)(e,3),t=a[0],n=a[1],l=a[2];return{status:"Loading file: ".concat(t&&t.substring(t.lastIndexOf("/",t.lastIndexOf("/")-1))),min:0,max:l,now:n}},COMPILING_RULESET:function(){return{status:"Compiling Ruleset",min:0,max:100,now:100}},COMPLETE:function(){return{status:"Complete",min:0,max:100,now:100}},INVALID:function(){return{status:"Invalid Version",min:0,max:0,now:0}}};function Ie(e,a){return Object(n.useCallback)((function(t){var n=a.languages[e];return n&&n[t]?n[t].replace(/\{NEWLINE\}/g,"<br/>"):t}),[e,a])}var Me=t(108),ke=t(202),Ne=function(){return l.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-search",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"}),l.a.createElement("path",{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"}))};function Ce(e){var a=e.lang,t=e.currentVersion,r=(e.versions,e.ruleset),c=e.onClick,o=Object(n.useState)(""),u=Object(s.a)(o,2),m=u[0],E=u[1],d=Ie(a,r),v=Object(n.useMemo)((function(){return function(e,a,t){return Object.keys(e.entries).map((function(e){return{name:t(e),value:e}})).filter((function(t){return!e.entries[t.value].hide&&t.name.toLowerCase().includes(a.toLowerCase())})).sort((function(e,a){return e.name<a.name?-1:e.name===a.name?0:1}))}(r,m,d)}),[r,m,d]);return l.a.createElement("div",{className:"sidebar"},l.a.createElement(Me.a,{className:"py-3 px-3 searchComponent"},l.a.createElement(Me.a.Prepend,null,l.a.createElement(Me.a.Text,{id:"search-addon1"},l.a.createElement(Ne,null))),l.a.createElement(ke.a,{placeholder:"Search","aria-label":"Search","aria-describedby":"search-addon1",value:m,onChange:function(e){return E(e.target.value)}})),l.a.createElement("ul",{className:"searchList"},v.map((function(e){var a=e.name,n=e.value;return l.a.createElement("li",{className:"searchItem px-3",key:n},l.a.createElement(i.b,{to:"/".concat(t,"/article/").concat(n),onClick:c},a))}))))}var xe=t(199),De=t.n(xe),Fe=t(6),Be=t(41),je=function(e){var a=e.label;return a?l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"SectionHeader",colSpan:"2"},a))):null},Pe=function(e){var a=e.label;return l.a.createElement("thead",null,a&&l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"2",className:"ListHeader"},a)))},Le=function(e){var a=e.children;return l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},a))},Ge=function(e){var a=e.label,t=e.value,n=e.children;return(e.showZero?t||0===t:t)?l.a.createElement("tr",null,l.a.createElement("td",null,a),l.a.createElement("td",null,n?n(t):t)):null},He=function(e){var a=e.label,t=e.value;return void 0!==t&&null!==t?l.a.createElement(Ge,{label:a,value:"".concat(t).toUpperCase()}):null},Ue=function(e){var a=e.label,t=e.values,n=e.children;return t&&t.length>0?l.a.createElement(l.a.Fragment,null,l.a.createElement(Pe,{label:a}),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2",className:"ListValues"},t.map((function(e,a){return l.a.createElement("div",{className:"ListValue",key:a},n?n(e,a):e)})))))):null},ze=function(e){return"$".concat(e)},We=function(e){return"".concat(e," Hours")},qe=function(e){return"".concat(e," Days")},Ke=function(e){return"".concat(e,"%")},Ze=function(e){var a=Object(s.a)(e,2),t=a[0],n=a[1];return l.a.createElement("span",{className:"KeyValue"},l.a.createElement("span",null,t),l.a.createElement("span",null,n))};function Ve(e,a){var t=e.min,n=e.max,l=e.stats;return l?l[a]:t&&n?"".concat(t[a]," - ").concat(n[a]):null}var Ye=function(e){var a=e.label,t=void 0===a?"Stats":a,n=e.lc,r=e.showZero,c=void 0===r||r,o=Object(Be.a)(e,["label","lc","showZero"]);return o.stats||o.min&&o.max?l.a.createElement(l.a.Fragment,null,l.a.createElement(Pe,{label:t}),l.a.createElement("tbody",null,l.a.createElement(Ge,{showZero:c,label:n("STR_TIME_UNITS"),value:Ve(o,"tu")}),l.a.createElement(Ge,{showZero:c,label:n("STR_STAMINA"),value:Ve(o,"stamina")}),l.a.createElement(Ge,{showZero:c,label:n("STR_HEALTH"),value:Ve(o,"health")}),l.a.createElement(Ge,{showZero:c,label:n("STR_BRAVERY"),value:Ve(o,"bravery")}),l.a.createElement(Ge,{showZero:c,label:n("STR_REACTIONS"),value:Ve(o,"reactions")}),l.a.createElement(Ge,{showZero:c,label:n("STR_FIRING_ACCURACY"),value:Ve(o,"firing")}),l.a.createElement(Ge,{showZero:c,label:n("STR_THROWING_ACCURACY"),value:Ve(o,"throwing")}),l.a.createElement(Ge,{showZero:c,label:n("STR_STRENGTH"),value:Ve(o,"strength")}),l.a.createElement(Ge,{showZero:c,label:n("STR_PSIONIC_STRENGTH"),value:Ve(o,"psiStrength")}),l.a.createElement(Ge,{showZero:c,label:n("STR_PSIONIC_SKILL"),value:Ve(o,"psiSkill")}),l.a.createElement(Ge,{showZero:c,label:n("STR_MELEE_ACCURACY"),value:Ve(o,"melee")}),l.a.createElement(Ge,{showZero:c,label:n("STR_MANA_POOL"),value:Ve(o,"mana")}))):null},$e={time:"STR_TIME_UNITS",energy:"STR_ENERGY",morale:"STR_MORALE",health:"STR_HEALTH",stun:"STR_STUN",mana:"STR_MANA_CURRENT"};function Qe(e){var a=e.recovery,t=e.bonusFn,n=e.lc;return a?l.a.createElement(l.a.Fragment,null,l.a.createElement(Pe,{label:"Stat Recovery"}),l.a.createElement("tbody",null,Object.keys(a).map((function(e,r){return l.a.createElement(Ge,{key:r,label:n($e[e]),value:a[e]},t)})))):null}var Xe=function(e){var a=e.entity;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ge,{label:"Stand Height",value:a.standHeight}),l.a.createElement(Ge,{label:"Kneel Height",value:a.kneelHeight}),l.a.createElement(Ge,{label:"Float Height",value:a.floatHeight}))};function Je(e){var a=e.options,t=e.value,r=e.onChange,c=e.children,o=Object(n.useCallback)((function(e){return r(e.target.value)}),[r]);return l.a.createElement("select",{value:t,onChange:o},a.map((function(e){return l.a.createElement("option",{key:e,value:e},c?c(e):e)})))}var ea=function(e){var a=e.size,t=void 0===a?"1em":a;return l.a.createElement("svg",{width:t,height:t,viewBox:"0 0 16 16",className:"bi bi-question-diamond",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M6.95.435c.58-.58 1.52-.58 2.1 0l6.515 6.516c.58.58.58 1.519 0 2.098L9.05 15.565c-.58.58-1.519.58-2.098 0L.435 9.05a1.482 1.482 0 0 1 0-2.098L6.95.435zm1.4.7a.495.495 0 0 0-.7 0L1.134 7.65a.495.495 0 0 0 0 .7l6.516 6.516a.495.495 0 0 0 .7 0l6.516-6.516a.495.495 0 0 0 0-.7L8.35 1.134z"}),l.a.createElement("path",{d:"M5.25 6.033h1.32c0-.781.458-1.384 1.36-1.384.685 0 1.313.343 1.313 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.007.463h1.307v-.355c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.326 0-2.786.647-2.754 2.533zm1.562 5.516c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"}))},aa=["None (0)","Firearm (1)","Ammo (2)","Melee (3)","Grenade (4)","Proximity Grenade (5)","Medi-Kit (6)","Motion Scanner (7)","Mind Probe (8)","Psi-Amp (9)","Electro-flare (10)","Corpse (11)"],ta=function(e){return aa[e]},na=["STR_DAMAGE_UC","STR_DAMAGE_ARMOR_PIERCING","STR_DAMAGE_INCENDIARY","STR_DAMAGE_HIGH_EXPLOSIVE","STR_DAMAGE_LASER_BEAM","STR_DAMAGE_PLASMA_BEAM","STR_DAMAGE_STUN","STR_DAMAGE_MELEE","STR_DAMAGE_ACID","STR_DAMAGE_SMOKE","STR_DAMAGE_10","STR_DAMAGE_11","STR_DAMAGE_12","STR_DAMAGE_13","STR_DAMAGE_14","STR_DAMAGE_15","STR_DAMAGE_16","STR_DAMAGE_17","STR_DAMAGE_18","STR_DAMAGE_19"],la=function(e){var a=e.children;return l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement(Fe.a,null,a))))},ra=function(e){var a=e.label;return l.a.createElement("thead",null,a&&l.a.createElement("tr",null,l.a.createElement("th",{className:"ListHeader"},a),l.a.createElement("th",{className:"ListHeader"},"Accuracy"),l.a.createElement("th",{className:"ListHeader"},"Cost")))},ca=function(e){var a=e.label,t=e.cost,n=e.show,r=e.accuracy,c=e.shots;return n?l.a.createElement("tr",null,l.a.createElement("td",null,a,c?" (x".concat(c,")"):""),l.a.createElement("td",null,r),l.a.createElement("td",null,t)):null};function oa(e){switch(e){case"Melee":return"meleeMultiplier";case"Throw":return"throwMultiplier";default:return"accuracyMultiplier"}}function ia(e){var a=e.items,t=e.suffix,n=e.bonusFn,r=e.defaultAcc,c=a[oa(t)];return l.a.createElement("div",null,a["accuracy".concat(t)]||r,function(e,a){var t=e[oa(a)];if(!t)return!1;var n=Object.keys(t);return 1!==n.length||n[0]!==function(e){switch(e){case"Melee":return"melee";case"Throw":return"throwing";default:return"firing"}}(a)||1!==t[n[0]]}(a,t)?" * (".concat(n(c),")"):null,"%")}var ua=function(e,a){return function(t){return l.a.createElement(i.b,{to:"/".concat(e,"/article/").concat(t)},a(t))}};function sa(e){var a=e.topics,t=e.linkFn;if(!a)return null;var n=Object.entries(a);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Pe,{label:"Protected Bonus Topics"}),l.a.createElement("tbody",null,n.map((function(e){var a=Object(s.a)(e,2),n=a[0],r=a[1];return l.a.createElement("tr",{key:n},l.a.createElement("td",null,t(n)),l.a.createElement("td",null,r.map((function(e){return l.a.createElement("div",{key:e},t(e))}))))}))))}function ma(e){var a=e.ruleset,t=e.lang,n=e.id,r=e.version,c=Ie(t,a),o=ua(r,c),i=a.entries[n].research;return i?l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(je,{label:"Research"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Cost",value:i.cost},(function(e){return void 0===e?"NONE":"".concat(e," Scientist Days")})),l.a.createElement(Ge,{label:"Points",value:i.points}),l.a.createElement(He,{label:"Requires Item",value:i.needItem}),l.a.createElement(He,{label:"Destroys Item",value:i.destroyItem}),l.a.createElement(Ge,{label:"Gives (lookup)",value:i.lookup},o),l.a.createElement(Ge,{label:"Spawns Item",value:i.spawnedItem},o)),l.a.createElement(Ue,{label:"Requires Service",values:i.requiresBaseFunc},c),l.a.createElement(Ue,{label:"Get as a Result of ",values:i.seeAlso},o),l.a.createElement(Ue,{label:"Dependencies",values:i.dependencies},o),l.a.createElement(Ue,{label:"Leads To",values:i.leadsTo},o),l.a.createElement(Ue,{label:"Disabled",values:i.disables},o),l.a.createElement(Ue,{label:"Unlocked By",values:i.unlockedBy},o),l.a.createElement(Ue,{label:"Unlocks",values:i.unlocks},o),l.a.createElement(Ue,{label:"Bonus Topics",values:i.getOneFree},o),l.a.createElement(sa,{topics:i.getOneFreeProtected,linkFn:o}),l.a.createElement(Ue,{label:"Free From",values:i.freeFrom},o),l.a.createElement(Ue,{label:"Manufacturing Process",values:i.manufacture},o),l.a.createElement(Ue,{label:"Allows Transformation",values:i.$allowsTransform},o)):null}var Ea=function(e){return function(a){var t=Object(s.a)(a,2),n=t[0],r=t[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"InventoryQuantity"},r)," ",e(n))}};function da(e){var a=e.label,t=e.values,r=e.children,c=Object(n.useMemo)((function(){return function(e){var a=0;if(!e)return{};var t=e.map((function(e){var t=Object(s.a)(e,2),n=t[0],l=t[1];return a+=n,[n,Object.entries(l)]})).sort((function(e,a){return a[0]-e[0]}));return{denominator:a,rows:t}}(t)}),[t]),o=c.denominator,i=c.rows;return t?l.a.createElement(l.a.Fragment,null,l.a.createElement(Pe,{label:a}),l.a.createElement("tbody",null,i.map((function(e,a){var t=Object(s.a)(e,2),n=t[0],c=t[1];return l.a.createElement("tr",{key:a},l.a.createElement("td",null,0===c.length?"NOTHING!":c.map((function(e,a){return l.a.createElement("div",{key:a},r(e))}))),l.a.createElement("td",null," ",n,"/",o," (",(100*n/o).toFixed(2),"%)"))})))):null}function va(e){var a,t=e.ruleset,n=e.lang,r=e.id,c=e.version,o=Ie(n,t),i=ua(c,o),u=t.entries[r],s=Ea(i),m=u.manufacture;return m?l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(je,{label:"Manufacture"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Category",value:o(m.category)}),l.a.createElement(Ge,{label:"Cost",value:m.cost},ze),l.a.createElement(Ge,{label:"Time",value:m.time},(function(e){return"".concat(e," Engineer Hours")})),l.a.createElement(Ge,{label:"Create Staff",value:m.spawnedPersonType},(function(e){return["STR_ENGINEER","STR_SCIENTIST"].includes(e)?o(e):i(e)})),!!m.cost&&!!(null===(a=u.items)||void 0===a?void 0:a.costSell)&&l.a.createElement(Ge,{label:"Profitability",value:"$".concat(Math.trunc((u.items.costSell-m.cost)/m.time),"/engineer hour")})),l.a.createElement(Ue,{label:"Requires Research",values:m.requires},i),l.a.createElement(Ue,{label:"Requires Service",values:m.requiresBaseFunc},o),l.a.createElement(Ue,{label:"Requires Items",values:Object.entries(m.requiredItems||{})},s),l.a.createElement(Ue,{label:"Produced Items",values:Object.entries(m.producedItems||{})},s),l.a.createElement(da,{label:"Random Production",values:m.randomProducedItems},s)):null}function fa(e,a,t){var n=function e(a,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,r=a[t];if(!r||!r.research)return n;var c=r.research.name;n[c]||(n[c]={id:c,dependencies:{},unlockedBy:{},seeAlso:{}});var o=n[c];if(0===l)return n;function i(t,r){t[r]&&(t[r].length<10?t[r].forEach((function(t){o[r][t]=!0,n[t]||e(a,t,n,l-1)})):o.culled=!0)}if(r.research){var u=r.research;i(u,"seeAlso"),i(u,"unlockedBy"),u.dependencies&&(!u.unlockedBy||u.dependencies.length<5)&&i(u,"dependencies")}return n}(e,t),l=[],r=new Set;Object.keys(n).forEach((function(e){l.push({group:"nodes",data:{id:e,label:"".concat(a(e)).concat(n[e].culled?" (collapsed)":"")}})}));var c=l.length;return c?(Object.values(n).forEach((function(e){var a=e.id,t=e.dependencies,n=e.unlockedBy,c=e.seeAlso;if(Object.keys(n).forEach((function(e){var t="".concat(e,"=>").concat(a);l.push({group:"edges",data:{id:t,source:e,target:a}})})),Object.keys(c).forEach((function(e){var t="".concat(e,"=>").concat(a);l.push({group:"edges",data:{id:t,source:e,target:a}})})),!function(e,a){var t,n=Object(ue.a)(e);try{for(n.s();!(t=n.n()).done;){var l=t.value;if(!a.has(l))return!1}}catch(r){n.e(r)}finally{n.f()}return!0}(new Set(Object.keys(t)),new Set(Object.keys(n))))if(Object.keys(t).length>1)Object.keys(t).forEach((function(e){var t="".concat(a,"_deps");r.has(t)||(r.add(t),l.push({group:"nodes",data:{id:t,label:"all",synthetic:!0}}),l.push({group:"edges",data:{id:"".concat(t,"=>").concat(a),source:t,target:a}}));var n="".concat(e,"=>").concat(t);l.push({group:"edges",data:{id:n,source:e,target:t}})}));else if(Object.keys(t).length>0){var o=Object.keys(t)[0],i="".concat(o,"=>").concat(a);l.push({group:"edges",data:{id:i,source:o,target:a}})}})),{elements:l,nodeCount:c}):{}}var ba=t(136),pa=t.n(ba),ha=t(200),ga=t.n(ha);pa.a.use(ga.a);var ya=function(){return l.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-fullscreen",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"}))},Sa={name:"dagre",rankDir:"LR",animate:!1,nodeDimensionsIncludeLabels:!0},Ta=[{selector:"node[label]",style:{label:"data(label)"}},{selector:"edge",style:{"curve-style":"straight","target-arrow-shape":"triangle","arrow-scale":"2"}}];function Ra(e){var a=e.elements,t=e.onClick,r=e.className,c=Object(n.useRef)(null),o=Object(n.useRef)();o.current=t;Object(n.useEffect)((function(){c.current.resize(),c.current.fit(void 0,10)}),[r]),Object(n.useEffect)((function(){if(a&&c.current){c.current.remove("*"),c.current.add(a),c.current.autounselectify(!0);var e=c.current.layout(Sa);e.promiseOn("layoutstop").then((function(){c.current.resize(),c.current.fit(void 0,10)})),e.run()}}),[a]);var i=Object(n.useCallback)((function(){c.current&&c.current.fit(void 0,10)}),[]);return l.a.createElement("div",{className:r},l.a.createElement("div",{style:{width:"100%",height:"100%"},ref:function(e){c.current||(c.current=pa()({container:e,layout:Sa,style:Ta}),c.current.resize(),c.current.on("tap",(function(e){e.target.isNode&&e.target.isNode()&&!e.target.data("synthetic")&&o.current&&o.current(e)})))}}),l.a.createElement("button",{className:"centerButton btn btn-outline-secondary btn-sm",onClick:i},l.a.createElement(ya,null)))}function Aa(e){var a=e.ruleset,t=e.lang,r=e.id,c=e.version,i=Ie(t,a),u=Object(n.useMemo)((function(){return fa(a.entries,i,r)}),[a,i,r]),s=u.elements,m=u.nodeCount,E=Object(o.g)(),d=Object(n.useCallback)((function(e){E.push("/".concat(c,"/article/").concat(e.target.id()))}),[c,E]);if(!m)return null;var v=function(e){return e>20?"TechTree lg":e<5?"TechTree sm":"TechTree"}(m);return l.a.createElement(Ra,{elements:s,className:v,onClick:d})}var Oa=function(e,a,t,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4;return function(c){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.key,u=Object(Be.a)(o,["key"]),s=e.sprites[a];if(!s||!s.files[c])return l.a.createElement(ea,{size:"".concat(Math.min(t,n)*r,"px")});var m=s.files[c];return l.a.createElement("img",Object.assign({key:i,src:m,alt:"",style:{zoom:r,width:"".concat(t,"px"),height:"".concat(n,"px")},"data-spriteid":c,className:"singleImage"},u))}},wa={flatOne:{value:function(e){return Array.isArray(e)?e.reduce((function(e,a,t){return e+Math.pow(a,t+1)}),0):e}},flatHundred:{value:function(e){return Array.isArray(e)?e.reduce((function(e,a,t){return e+100*Math.pow(a,t+1)}),0):100*e}},psi:{vFn:function(e){return"".concat(e("STR_PSIONIC_SKILL")," * ").concat(e("STR_PSIONIC_STRENGTH"))}},psiSkill:{value:"STR_PSIONIC_SKILL"},psiStrength:{value:"STR_PSIONIC_STRENGTH"},throwing:{value:"STR_THROWING_ACCURACY"},bravery:{value:"STR_BRAVERY"},firing:{value:"STR_FIRING_ACCURACY"},health:{value:"STR_HEALTH",total:!0},mana:{value:"STR_MANA_POOL",total:!0},tu:{value:"STR_TIME_UNITS",total:!0},reactions:{value:"STR_REACTIONS"},stamina:{value:"STR_STAMINA",total:!0},melee:{value:"STR_MELEE_ACCURACY"},strength:{value:"STR_STRENGTH"},strengthMelee:{vFn:function(e){return"".concat(e("STR_STRENGTH")," * ").concat(e("STR_MELEE_ACCURACY"))}},strengthThrowing:{vFn:function(e){return"".concat(e("STR_STRENGTH")," * ").concat(e("STR_THROWING_ACCURACY"))}},firingReactions:{vFn:function(e){return"".concat(e("STR_FIRING_ACCURACY")," * ").concat(e("STR_REACTIONS"))}},rank:{value:"STR_RANK"},fatalWounds:{value:"STR_FATAL_WOUNDS"},healthCurrent:{value:"STR_HEALTH"},manaCurrent:{value:"STR_MANA_CURRENT"},tuCurrent:{value:"STR_TIME_UNITS"},energyCurrent:{value:"STR_ENERGY"},moraleCurrent:{value:"STR_MORALE"},stunCurrent:{value:"STR_STUN"},healthNormalized:{value:"STR_HEALTH",normalized:!0},manaNormalized:{value:"STR_MANA",normalized:!0},tuNormalized:{value:"STR_TIME_UNITS",normalized:!0},energyNormalized:{value:"STR_ENERGY",normalized:!0},moraleNormalized:{value:"STR_MORALE",normalized:!0},stunNormalized:{value:"STR_STUN",normalized:!0},energyRegen:{value:"STR_ENERGY"}},_a=function(e){return function(a){var t=[],n=[];return Object.keys(a).forEach((function(l){var r=wa[l];if("function"===typeof r.value){var c=r.value(a[l]);c>0&&t.push(Math.abs(c)),c<0&&n.push(Math.abs(c))}else if("number"===typeof a[l]){var o=r.value,i=r.vFn,u=r.normalized,s=r.total,m=a[l],E=i?i(e):e(o),d="".concat(Math.abs(m)).concat(u?" * %":" * ").concat(s?"".concat(e("STR_TOTAL")," "):"").concat(E);m>0&&t.push(d),m<0&&n.push(d)}else{var v=a[l],f=r.value,b=r.vFn,p=r.normalized,h=r.total,g=b?b(e):e(f);v.forEach((function(a,l){var r="".concat(Math.abs(a)).concat(p?" * %":" * ").concat(h?"".concat(e("STR_TOTAL")," "):"").concat(b?"(".concat(g,")"):g).concat(l?"^".concat(l+1):"");a>0&&t.push(r),a<0&&n.push(r)}))}})),"".concat(t.length?t.join(" + "):"").concat(n.length?" - ".concat(n.join(" - ")):"")}},Ia=["Default","0 - 200%","50 - 150%","Flat Damage","Fire Damage","No Damage","(0 - 100%) + (0 - 100%)","50 - 200%"],Ma=[{},{IgnoreOverKill:!0},{FireBlastCalc:!0,IgnoreOverKill:!0,IgnoreSelfDestruct:!0,IgnoreDirection:!0,FixRadius:-1,RadiusEffectiveness:.03,ArmorEffectiveness:0,FireThreshold:0,ToHealth:1},{IgnoreOverKill:!0,IgnoreSelfDestruct:!0,FixRadius:-1,RadiusEffectiveness:.05,ToItem:1},{IgnoreOverKill:!0},{IgnoreOverKill:!0},{IgnoreOverKill:!0,IgnoreSelfDestruct:!0,IgnoreDirection:!0,FixRadius:-1,RadiusEffectiveness:.05,ToHealth:0,ToStun:1,RandomStun:!1},{IgnoreOverKill:!0,IgnoreSelfDestruct:!0},{IgnoreOverKill:!0},{IgnoreOverKill:!0,IgnoreDirection:!0,FixRadius:-1,RadiusEffectiveness:.05,ArmorEffectiveness:0,SmokeThreshold:0,ToHealth:0,ToStun:1},{IgnoreOverKill:!0},{IgnoreOverKill:!0},{IgnoreOverKill:!0},{IgnoreOverKill:!0},{IgnoreOverKill:!0},{IgnoreOverKill:!0},{IgnoreOverKill:!0},{IgnoreOverKill:!0},{IgnoreOverKill:!0},{IgnoreOverKill:!0}];function ka(e){var a=e.alter,t=e.suffix,n=e.label;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ge,{label:"".concat(n," Damage"),value:100*a["To".concat(t)],showZero:!0},Ke),l.a.createElement(He,{label:"Random ".concat(n,"?"),value:a["Random".concat(t)]}))}function Na(e){var a=e.type,t=e.alter,n=e.lc,r=e.blastRadius,c=e.melee,o={};(null===t||void 0===t?void 0:t.FixRadius)||(void 0!==r&&(o.FixRadius=r),0===r&&(o.RadiusEffectiveness=0,o.IgnoreDirection=null));var i=Object(u.a)({},Ma[a],{},t,{},o);return i?l.a.createElement(l.a.Fragment,null,l.a.createElement(Ge,{label:"Random Type",value:i.RandomType},(function(e){return Ia[e]})),!c&&l.a.createElement(Ge,{label:"Blast Radius",value:i.FixRadius},(function(e){return-1===e?"Dynamic":"".concat(e," Tiles")})),l.a.createElement(He,{label:"Use Fire Radius?",value:i.FireBlastCalc}),!c&&l.a.createElement(He,{label:"Ignore Direction?",value:i.IgnoreDirection}),l.a.createElement(He,{label:"Ignore Self Destruct?",value:i.IgnoreSelfDestruct}),l.a.createElement(He,{label:"Ignore Stun Immunity?",value:i.IgnorePainImmunity}),l.a.createElement(He,{label:"Ignore Overkill?",value:i.IgnoreOverKill}),l.a.createElement(Ge,{label:"Armor Effectivenesss",value:i.ArmorEffectiveness,showZero:!0}),!c&&l.a.createElement(Ge,{label:"Radius Effectiveness",value:i.RadiusEffectiveness}),!c&&l.a.createElement(Ge,{label:"Radius Reduction",value:i.RadiusReduction}),l.a.createElement(Ge,{label:"Fire Threshold",value:i.FireThreshold,showZero:!0}),l.a.createElement(Ge,{label:"Smoke Threshold",value:i.SmokeThreshold,showZero:!0}),l.a.createElement(Ge,{label:"Armor Degradation (Raw Damage)",value:i.ToArmorPre}),l.a.createElement(He,{label:"Random Armor Degradation?",value:i.RandomArmorPre}),l.a.createElement(Ge,{label:"Armor Degradation (Penetrating)",value:i.ToArmor,showZero:!0}),l.a.createElement(He,{label:"Random Penetrating Degradation?",value:i.RandomArmor}),l.a.createElement(ka,{alter:i,label:n("STR_HEALTH"),suffix:"Health"}),l.a.createElement(ka,{alter:i,label:n("STR_STUN"),suffix:"Stun"}),l.a.createElement(ka,{alter:i,label:n("STR_FATAL_WOUNDS"),suffix:"Wound"}),l.a.createElement(ka,{alter:i,label:n("STR_TIME_UNITS"),suffix:"Time"}),l.a.createElement(ka,{alter:i,label:n("STR_ENERGY"),suffix:"Energy"}),l.a.createElement(ka,{alter:i,label:n("STR_MORALE"),suffix:"Morale"}),l.a.createElement(ka,{alter:i,label:n("STR_MANA_POOL"),suffix:"Mana"}),l.a.createElement(ka,{alter:i,label:n("STR_LIST_ITEM"),suffix:"Item"}),l.a.createElement(ka,{alter:i,label:"Tile",suffix:"Tile"})):null}function Ca(e){var a,t,n=e.items,r=e.lc,c=e.children,o=e.melee,i=_a(r),u=o?(null===(a=n.meleeAlter)||void 0===a?void 0:a.ResistType)||n.meleeType:(null===(t=n.damageAlter)||void 0===t?void 0:t.ResistType)||n.damageType,s=r(na[u]),m=(o?n.meleeBonus:n.damageBonus)||(n.strengthApplied?{strength:1}:void 0),E=o?n.meleePower:n.power;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,E||"",m?"".concat(E?" + ":"").concat(i(m)):"",n.shotgunPellets?"x".concat(n.shotgunPellets):""),l.a.createElement("div",{className:"damageType"},s),c)}var xa=["time","energy","morale","mana","health"],Da=["STR_TIME_UNITS","STR_ENERGY","STR_MORALE","STR_MANA_POOL","STR_HEALTH"];function Fa(e,a){var t=e["cost".concat(a)],n=e["tu".concat(a)];return t&&t.time||n}var Ba=function(e){var a=e.value,t=e.suffix,n=e.lc,r=e.defaultTu,c=a["cost".concat(t)],o=a["tu".concat(t)];if((!c||!c.time)&&!o&&!r)return null;var i=Object(u.a)({},{time:o||r},{},c);return l.a.createElement(l.a.Fragment,null,xa.map((function(e,r){return i[e]?l.a.createElement("div",{key:e},l.a.createElement("span",null,i[e],a.flatRate||i["flat".concat(t)]||e!==xa[0]?"":"%")," ",l.a.createElement("span",null,n(Da[r]))):null})))},ja=["Aimed","Snap","Auto"],Pa={Aimed:"STR_AIMED_SHOT",Snap:"STR_SNAP_SHOT",Auto:"STR_AUTO_SHOT",Melee:"STR_HIT_MELEE"};function La(e,a){var t;return(null===(t=e["conf".concat(a)])||void 0===t?void 0:t.name)||Pa[a]}function Ga(e,a){var t,n=null===(t=e["conf".concat(a)])||void 0===t?void 0:t.shots,l="Auto"===a?e.autoShots||3:void 0;return n||l||void 0}var Ha=function(e){var a=e.suffix,t=e.item,n=e.lc,r=e.bonusFn;return l.a.createElement(ca,{label:n(La(t,a)),show:Fa(t,a),cost:l.a.createElement(Ba,{value:t,suffix:a,lc:n}),accuracy:l.a.createElement(ia,{items:t,suffix:a,bonusFn:r}),shots:Ga(t,a)})},Ua=function(e){var a=e.lc,t=e.linkFn,n=e.item,r=e.integral,c=e.melee;return l.a.createElement("tr",null,l.a.createElement("td",null,r?"-":t(n.type)),l.a.createElement("td",null,n.clipSize?l.a.createElement("div",null,a("clipSize"),": ",n.clipSize):null,l.a.createElement("div",null,l.a.createElement(Fe.a,null,l.a.createElement("tbody",null,l.a.createElement(Na,{type:c?n.meleeType:n.damageType,alter:c?n.meleeAlter:n.damageAlter,blastRadius:n.blastRadius,lc:a}))))),l.a.createElement("td",null,l.a.createElement(Ca,{items:n,lc:a,melee:c})))};function za(e){var a=e.triggers;return a?l.a.createElement(Fe.a,null,l.a.createElement("tbody",null,l.a.createElement(He,{label:"Default Behavior",value:a.defaultBehavior}),l.a.createElement(He,{label:"On Throw",value:a.throwTrigger}),l.a.createElement(He,{label:"Explode on Throw",value:a.throwExplode}),l.a.createElement(He,{label:"On Proximity",value:a.proximityTrigger}),l.a.createElement(He,{label:"Explode on Proximity",value:a.proximityExplode}))):null}function Wa(e){e.ruleset;var a=e.items,t=e.lc,n=(e.linkFn,e.spriteFn),r=_a(t);return l.a.createElement(l.a.Fragment,null,l.a.createElement("tbody",null,l.a.createElement(Ge,{label:n(a.bigSprite),value:a},(function(e){return l.a.createElement(Ca,{items:e,lc:t},e.damageAlter?l.a.createElement(Fe.a,null,l.a.createElement(Pe,{label:"Damage Properties"}),l.a.createElement("tbody",null,l.a.createElement(Na,{type:e.damageType,alter:e.damageAlter,lc:t,blastRadius:e.blastRadius}))):null)}))),l.a.createElement(la,null,l.a.createElement(ra,{label:"Actions"}),l.a.createElement("tbody",null,l.a.createElement(ca,{label:t(a.primeActionName||"STR_PRIME_GRENADE"),show:-3!==a.fuseType,cost:l.a.createElement(Ba,{value:a,suffix:"Prime",lc:t,defaultTu:50})}),l.a.createElement(ca,{label:t(a.unprimeActionName),show:-3!==a.fuseType&&Fa(a,"Unprime"),cost:l.a.createElement(Ba,{value:a,suffix:"Unprime",lc:t,defaultTu:25})}),l.a.createElement(ca,{label:t("STR_THROW"),show:!0,cost:l.a.createElement(Ba,{value:a,suffix:"Throw",lc:t,defaultTu:25}),accuracy:l.a.createElement(ia,{items:a,suffix:"Throw",bonusFn:r,defaultAcc:100})}))),l.a.createElement(Pe,{label:"Grenade Properties"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Fuse Type",value:a.fuseType||-1},(function(e){switch(e){case-3:return"No Priming";case-2:return"Instant Fuse";case-1:return"Timed Fuse";default:return"".concat(e," round fuse")}})),l.a.createElement(Ge,{label:"TriggerEvents",value:a.fuseTriggerEvents},(function(e){return l.a.createElement(za,{triggers:e})})),l.a.createElement(Ge,{label:"Special Effect Chance",value:a.specialChance||100},Ke),l.a.createElement(He,{label:"Explodes in Inventory",value:a.isExplodingInHands}),l.a.createElement(He,{label:"Hidden on Map",value:a.hiddenOnMinimap})))}var qa=[["STR_TARGET_FRIEND","STR_TARGET_ON_THE_GROUND"],["STR_TARGET_FRIEND"],["STR_TARGET_NEUTRAL","STR_TARGET_ON_THE_GROUND"],["STR_TARGET_NEUTRAL"],["STR_TARGET_ENEMY","STR_TARGET_ON_THE_GROUND"],["STR_TARGET_ENEMY"]];function Ka(e){var a=e.item;return l.a.createElement(Fe.a,null,l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Heal",value:a.heal}),l.a.createElement(Ge,{label:"Stimulant",value:a.stimulant}),l.a.createElement(Ge,{label:"Painkiller",value:a.painKiller})))}var Za=["STR_XCOM","STR_ALIENS","MALE_CIVILIAN"];function Va(e){var a=e.triggers;return a?l.a.createElement(Fe.a,null,l.a.createElement("tbody",null,l.a.createElement(He,{label:"Default Behavior",value:a.defaultBehavior}),l.a.createElement(He,{label:"On Throw",value:a.throwTrigger}),l.a.createElement(He,{label:"Explode on Throw",value:a.throwExplode}),l.a.createElement(He,{label:"On Proximity",value:a.proximityTrigger}),l.a.createElement(He,{label:"Explode on Proximity",value:a.proximityExplode}))):null}function Ya(e){var a=e.label,t=e.power;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,a),l.a.createElement("div",null,t))}var $a=["ETM_DEFAULT","ETM_MELEE_100","ETM_MELEE_50","ETM_MELEE_33","ETM_FIRING_100","ETM_FIRING_50","ETM_FIRING_33","ETM_THROWING_100","ETM_THROWING_50","ETM_THROWING_33","ETM_FIRING_AND_THROWING","ETM_FIRING_OR_THROWING","ETM_REACTIONS","ETM_REACTIONS_AND_MELEE","ETM_REACTIONS_AND_FIRING","ETM_REACTIONS_AND_THROWING","ETM_REACTIONS_OR_MELEE","ETM_REACTIONS_OR_FIRING","ETM_REACTIONS_OR_THROWING","ETM_BRAVERY","ETM_BRAVERY_2X","ETM_BRAVERY_AND_REACTIONS","ETM_BRAVERY_OR_REACTIONS","ETM_BRAVERY_OR_REACTIONS_2X","ETM_PSI_STRENGTH","ETM_PSI_STRENGTH_2X","ETM_PSI_SKILL","ETM_PSI_SKILL_2X","ETM_PSI_STRENGTH_AND_SKILL","ETM_PSI_STRENGTH_AND_SKILL_2X","ETM_PSI_STRENGTH_OR_SKILL","ETM_PSI_STRENGTH_OR_SKILL_2X","ETM_NOTHING"];function Qa(e){var a,t=e.ruleset,n=e.items,r=e.lc,c=e.linkFn;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Pe,{label:"General Properties"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Item Type",value:n.battleType},ta),l.a.createElement(Ge,{label:"Cost",value:n.costBuy},ze),l.a.createElement(Ge,{label:"Sell Price",value:n.costSell},ze),l.a.createElement(Ge,{label:"Transfer Time",value:n.transferTime},We),l.a.createElement(Ge,{label:"Weight",value:n.weight}),l.a.createElement(Ge,{label:"Storage Space",value:n.size}),l.a.createElement(Ge,{label:"Name in Inventory",value:n.name},r),l.a.createElement(Ge,{label:"Ammo Name Modifier",value:n.nameAsAmmo},r),l.a.createElement(Ge,{label:"Monthly Maintenance",value:n.monthlyMaintenance},ze),l.a.createElement(Ge,{label:"Monthly Salary",value:n.monthlySalary},ze),l.a.createElement(Ge,{label:r("manaExperience"),value:n.manaExperience}),l.a.createElement(Ge,{label:"Training Mode",value:n.experienceTrainingMode},(function(e){return r($a[e||0])})),l.a.createElement(Ge,{label:"Two-Handed",value:n},(function(e){return e.twoHanded?e.blockBothHands?"REQUIRED":"TRUE":"FALSE"})),l.a.createElement(Ge,{label:"Kneeling Bonus",value:n.kneelBonus},Ke),l.a.createElement(Ge,{label:"One Handed Accuracy",value:n.twoHanded?n.oneHandedPenalty||t.oneHandedPenaltyGlobal||80:void 0},Ke),l.a.createElement(He,{label:"Recoverable?",value:n.recover}),l.a.createElement(He,{label:"Corpse Recoverable?",value:n.recoverCorpse}),l.a.createElement(He,{label:"Fixed Weapon?",value:n.fixedWeapon}),l.a.createElement(Ge,{label:"Score",value:n.recoveryPoints}),l.a.createElement(He,{label:"Live Alien?",value:n.liveAlien}),l.a.createElement(He,{label:"Unarmed Attack?",value:n.specialUseEmptyHand}),!!n.invWidth&&!!n.invHeight&&l.a.createElement(Ge,{label:"Inventory Shape",value:"".concat(n.invWidth,"x").concat(n.invHeight)}),l.a.createElement(He,{label:"Extinguish Fires?",value:n.isFireExtinguisher}),l.a.createElement(Ge,{label:"Durability",value:n.armor||20}),l.a.createElement(He,{label:"LOS Required?",value:n.LOSRequired}),l.a.createElement(He,{label:"Psi Required?",value:null!==(a=n.psiRequired)&&void 0!==a?a:9===n.battleType}),l.a.createElement(He,{label:r("manaRequired"),value:n.manaRequired}),l.a.createElement(He,{label:"Underwater Only?",value:n.underwaterOnly}),l.a.createElement(He,{label:"Land Only?",value:n.landOnly}),l.a.createElement(Ge,{label:"Zombie Unit",value:n.zombieUnit},c)))}var Xa=[null,function(e){var a=e.ruleset,t=e.items,n=e.lc,r=e.linkFn,c=e.spriteFn,o=_a(n),i=!t.compatibleAmmo&&!t.ammo;return l.a.createElement(l.a.Fragment,null,l.a.createElement("tbody",null,l.a.createElement(Ge,{label:c(t.bigSprite),value:t},(function(e){return i?l.a.createElement(Ca,{items:e,lc:n},-1!==e.clipSize&&l.a.createElement("div",null,n("clipSize"),": ",e.clipSize),e.damageAlter?l.a.createElement(Fe.a,null,l.a.createElement(Pe,{label:"Damage Properties"}),l.a.createElement("tbody",null,l.a.createElement(Na,{type:e.damageType,alter:e.damageAlter,lc:n,blastRadius:e.blastRadius}))):null):"As Ammo"}))),l.a.createElement(la,null,l.a.createElement(ra,{label:"Actions"}),l.a.createElement("tbody",null,function(e,a,t,n,r){var c,o=function(t){return t.map((function(t){return l.a.createElement(Ha,{key:t,suffix:t,item:e,lc:a,bonusFn:n})}))},i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"getAmmo";return l.a.createElement("tr",{key:n},l.a.createElement("td",null),l.a.createElement("td",{colSpan:"2"},l.a.createElement(Fe.a,null,l.a.createElement("tbody",null,e.map((function(e){return l.a.createElement(Ua,{key:e,lc:a,linkFn:t,item:r.entries[e].items})}))))))},u=Fa(e,"Melee")?[l.a.createElement(Ha,{key:"Melee",suffix:"Melee",item:e,lc:a,bonusFn:n}),l.a.createElement("tr",{key:"MeleeAmmo"},l.a.createElement("td",null),l.a.createElement("td",{colSpan:"2"},l.a.createElement(Fe.a,null,l.a.createElement("tbody",null,l.a.createElement(Ua,{lc:a,linkFn:t,item:e,integral:!0,melee:!0})))))]:[];return e.compatibleAmmo||e.ammo?e.ammo?(c=[],Object.keys(e.ammo).forEach((function(a){var t=o(ja.filter((function(t){var n;return"".concat(null===(n=e["conf".concat(t)])||void 0===n?void 0:n.ammoSlot)===a})));c=(c=c.concat(t)).concat(i(e.ammo[a].compatibleAmmo,"ammo".concat(a)))})),c=c.concat(u)):(c=(c=o(ja)).concat(i(e.compatibleAmmo))).concat(u):c=o(ja)}(t,n,r,o,a),l.a.createElement(ca,{label:n("STR_THROW"),show:!t.fixedWeapon,cost:l.a.createElement(Ba,{value:t,suffix:"Throw",lc:n,defaultTu:25}),accuracy:l.a.createElement(ia,{items:t,suffix:"Throw",bonusFn:o,defaultAcc:100})}))),l.a.createElement(Pe,{label:"Firearm Properties"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Waypoints",value:t.waypoints}),l.a.createElement(Ge,{label:"Spray Waypoints",value:t.sprayWaypoints}),l.a.createElement(Ge,{label:"Shotgun Spread",value:t.shotgunSpread}),l.a.createElement(Ge,{label:"Shotgun Choke",value:t.shotgunChoke}),l.a.createElement(Ge,{label:"Max Range",value:t.maxRange||200}),Fa(t,"Aimed")&&l.a.createElement(Ge,{label:"Aim Range",value:t.aimRange||200}),Fa(t,"Snap")&&l.a.createElement(Ge,{label:"Snap Range",value:t.snapRange||15}),Fa(t,"Auto")&&l.a.createElement(Ge,{label:"Auto Range",value:t.autoRange||7}),l.a.createElement(Ge,{label:"CQC Accuracy",value:t.accuracyCloseQuarters},Ke),l.a.createElement(Ge,{label:"Min Range",value:t.minRange}),l.a.createElement(Ge,{label:"Dropoff",value:t.dropoff}),l.a.createElement(Ge,{label:"Effective Range",value:t.powerRangeThreshold}),l.a.createElement(Ge,{label:"Damage Dropoff",value:t.powerRangeReduction})))},function(e){e.ruleset;var a=e.items,t=e.lc,n=e.linkFn,r=e.spriteFn;return l.a.createElement(l.a.Fragment,null,l.a.createElement("tbody",null,l.a.createElement(Ge,{label:r(a.bigSprite),value:a},(function(e){return l.a.createElement(Ca,{items:a,lc:t},l.a.createElement("div",null,t("clipSize"),": ",e.clipSize))}))),a.damageAlter?l.a.createElement(l.a.Fragment,null,l.a.createElement(Pe,{label:"Ammo Properties"}),l.a.createElement("tbody",null,l.a.createElement(Na,{type:a.damageType,alter:a.damageAlter,blastRadius:a.blastRadius,lc:t}))):null,l.a.createElement(Ue,{label:"Ammunition For",values:a.ammoFor},n))},function(e){e.ruleset;var a=e.items,t=e.lc,n=(e.linkFn,e.spriteFn),r=_a(t);return l.a.createElement(l.a.Fragment,null,l.a.createElement("tbody",null,l.a.createElement(Ge,{label:n(a.bigSprite),value:a},(function(e){return l.a.createElement(Ca,{items:e,lc:t},e.damageAlter?l.a.createElement(Fe.a,null,l.a.createElement(Pe,{label:"Damage Properties"}),l.a.createElement("tbody",null,l.a.createElement(Na,{type:e.damageType,alter:e.damageAlter,lc:t,blastRadius:e.blastRadius,melee:!0}))):null)}))),l.a.createElement(la,null,l.a.createElement(ra,{label:"Actions"}),l.a.createElement("tbody",null,l.a.createElement(ca,{label:t("STR_HIT_MELEE"),show:Fa(a,"Melee"),cost:l.a.createElement(Ba,{value:a,suffix:"Melee",lc:t}),accuracy:l.a.createElement(ia,{items:a,suffix:"Melee",bonusFn:r,defaultAcc:100})}),l.a.createElement(ca,{label:t("STR_THROW"),show:!a.fixedWeapon,cost:l.a.createElement(Ba,{value:a,suffix:"Throw",lc:t,defaultTu:25}),accuracy:l.a.createElement(ia,{items:a,suffix:"Throw",bonusFn:r,defaultAcc:100})}))))},Wa,Wa,function(e){e.ruleset;var a=e.items,t=e.lc,n=(e.linkFn,e.spriteFn),r=_a(t);return l.a.createElement(l.a.Fragment,null,l.a.createElement("tbody",null,l.a.createElement(Ge,{label:n(a.bigSprite),value:l.a.createElement(Ka,{item:a})})),l.a.createElement(la,null,l.a.createElement(ra,{label:"Actions"}),l.a.createElement("tbody",null,l.a.createElement(ca,{label:t(a.medikitActionName||"STR_USE_MEDI_KIT"),show:Fa(a,"Use"),cost:l.a.createElement(Ba,{value:a,suffix:"Use",lc:t})}),l.a.createElement(ca,{label:t("STR_THROW"),cost:l.a.createElement(Ba,{value:a,suffix:"Throw",lc:t,defaultTu:25}),show:!0,accuracy:l.a.createElement(ia,{items:a,suffix:"Throw",bonusFn:r,defaultAcc:100})}))),l.a.createElement(Pe,{label:"Medi-Kit Properties"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Medi-Kit Target Mode",value:a.medikitTargetMatrix||63},(function(e){return qa.filter((function(a,t){return e&1<<t})).map((function(e){return l.a.createElement("div",{key:e.join("")},e.map((function(e){return t(e)})).join(" ").substring(2))}))})),l.a.createElement(He,{label:"Self Heal?",value:a.medikitTargetSelf}),l.a.createElement(He,{label:"Heal Inorganic?",value:a.medikitTargetImmune}),l.a.createElement(He,{label:"Consumable?",value:a.isConsumable}),l.a.createElement(Ge,{label:"Wounds Recovered",value:a.woundRecovery}),l.a.createElement(Ge,{label:"Health Recovered",value:a.healthRecovery}),l.a.createElement(Ge,{label:"Stun Recovered",value:a.stunRecovery}),l.a.createElement(Ge,{label:"Energy Recovered",value:a.energyRecovery}),l.a.createElement(Ge,{label:"Morale Recovered",value:a.moraleRecovery}),l.a.createElement(Ge,{label:"Painkiller Effectiveness",value:a.painKillerRecovery})))},function(e){e.ruleset;var a=e.items,t=e.lc,n=(e.linkFn,e.spriteFn);return l.a.createElement(l.a.Fragment,null,l.a.createElement("tbody",null,l.a.createElement(Ge,{label:n(a.bigSprite),value:"",showZero:!0})),l.a.createElement(Pe,{label:"Actions"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:t("STR_USE_SCANNER"),value:a},(function(e){return l.a.createElement(Ba,{value:e,suffix:"Use",lc:t,defaultTu:25})})),l.a.createElement(Ge,{label:t("STR_THROW"),value:a},(function(e){return l.a.createElement(Ba,{value:e,suffix:"Throw",lc:t,defaultTu:25})}))))},function(e){e.ruleset;var a=e.items,t=e.lc,n=(e.linkFn,e.spriteFn);return l.a.createElement(l.a.Fragment,null,l.a.createElement("tbody",null,l.a.createElement(Ge,{label:n(a.bigSprite),value:"",showZero:!0})),l.a.createElement(Pe,{label:"Actions"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:t("STR_USE_MIND_PROBE"),value:a},(function(e){return l.a.createElement(Ba,{value:e,suffix:"Use",lc:t,defaultTu:25})})),l.a.createElement(Ge,{label:t("STR_THROW"),value:a},(function(e){return l.a.createElement(Ba,{value:e,suffix:"Throw",lc:t,defaultTu:25})}))))},function(e){e.ruleset;var a=e.items,t=e.lc,n=(e.linkFn,e.spriteFn),r=_a(t);return l.a.createElement(l.a.Fragment,null,l.a.createElement("tbody",null,l.a.createElement(Ge,{label:n(a.bigSprite),value:a},(function(e){return l.a.createElement(Ca,{items:e,lc:t},e.damageAlter?l.a.createElement(Fe.a,null,l.a.createElement(Pe,{label:"Damage Properties"}),l.a.createElement("tbody",null,l.a.createElement(Na,{type:e.damageType,alter:e.damageAlter,lc:t}))):null)}))),l.a.createElement(la,null,l.a.createElement(ra,{label:"Actions"}),l.a.createElement("tbody",null,l.a.createElement(ca,{label:t("STR_PANIC_UNIT"),show:Fa(a,"Panic"),cost:l.a.createElement(Ba,{value:a,suffix:"Panic",lc:t})}),l.a.createElement(ca,{label:t("STR_MIND_CONTROL"),show:Fa(a,"MindControl"),cost:l.a.createElement(Ba,{value:a,suffix:"MindControl",lc:t})}),l.a.createElement(ca,{label:t(a.psiAttackName),show:Fa(a,"Use")&&a.damageType,cost:l.a.createElement(Ba,{value:a,suffix:"Use",lc:t}),accuracy:l.a.createElement(ia,{items:a,suffix:"Use",bonusFn:r})}),l.a.createElement(ca,{label:t("STR_THROW"),show:!a.fixedWeapon,cost:l.a.createElement(Ba,{value:a,suffix:"Throw",lc:t,defaultTu:25}),accuracy:l.a.createElement(ia,{items:a,suffix:"Throw",bonusFn:r,defaultAcc:100})}))),l.a.createElement(Pe,{label:"Psi-Amp Properties"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Psi Target Mode",value:9===a.battleType&&(a.psiTargetMatrix||6)},(function(e){return Za.filter((function(a,t){return e&1<<t})).map(t).join(", ")})),l.a.createElement(Ge,{label:"Dropoff",value:a.dropoff}),l.a.createElement(Ge,{label:"Max Range",value:a.maxRange}),l.a.createElement(He,{label:"LOS Required",value:a.LOSRequired})))},function(e){e.ruleset;var a=e.items,t=e.lc,n=(e.linkFn,e.spriteFn),r=_a(t);return l.a.createElement(l.a.Fragment,null,l.a.createElement("tbody",null,l.a.createElement(Ge,{label:n(a.bigSprite),value:l.a.createElement(Ya,{power:a.power,label:t("STR_WEAPON_POWER")})})),l.a.createElement(la,null,l.a.createElement(ra,{label:"Actions"}),l.a.createElement("tbody",null,l.a.createElement(ca,{label:t(a.primeActionName||"STR_PRIME_GRENADE"),show:-3!==a.fuseType,cost:l.a.createElement(Ba,{value:a,suffix:"Prime",lc:t,defaultTu:50})}),l.a.createElement(ca,{label:t(a.unprimeActionName),show:-3!==a.fuseType&&Fa(a,"Unprime"),cost:l.a.createElement(Ba,{value:a,suffix:"Unprime",lc:t,defaultTu:25})}),l.a.createElement(ca,{label:t("STR_THROW"),show:!0,cost:l.a.createElement(Ba,{value:a,suffix:"Throw",lc:t,defaultTu:25}),accuracy:l.a.createElement(ia,{items:a,suffix:"Throw",bonusFn:r,defaultAcc:100})}))),l.a.createElement(Pe,{label:"Grenade Properties"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Fuse Type",value:a.fuseType||-1},(function(e){switch(e){case-3:return"No Priming";case-2:return"Instant Fuse";case-1:return"Timed Fuse";default:return"".concat(e," round fuse")}})),l.a.createElement(Ge,{label:"TriggerEvents",value:a.fuseTriggerEvents},(function(e){return l.a.createElement(Va,{triggers:e})})),l.a.createElement(Ge,{label:"Special Effect Chance",value:a.specialChance||100},Ke),l.a.createElement(He,{label:"Explodes in Inventory",value:a.isExplodingInHands}),l.a.createElement(He,{label:"Hidden on Map",value:a.hiddenOnMinimap})))},null],Ja=function(e){var a=e.items,t=e.spriteFn;return l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Sprite",value:a.bigSprite},t),l.a.createElement(Ge,{label:"Type",value:a.battleType},ta))};var et=function(e){var a=e.ruleset,t=e.lang,n=e.id,r=e.version,c=Ie(t,a),o=ua(r,c),i=Oa(a,"BIGOBS.PCK",32,48),u=a.entries[n].items;if(!u)return null;if(Object.keys(u).length<=1)return null;var s=Xa[u.battleType]||Ja;return l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(je,{label:"Item"}),s&&l.a.createElement(s,{ruleset:a,items:u,lc:c,linkFn:o,spriteFn:i}),l.a.createElement(Qa,{ruleset:a,items:u,lc:c,linkFn:o}),l.a.createElement(Ue,{label:"Categories",values:u.categories},c),l.a.createElement(Ue,{label:"Supported Inventory Sections",values:u.supportedInventorySections},c),l.a.createElement(Ue,{label:"Associated Commendations",values:u.$givesCommendation},o),l.a.createElement(Ue,{label:"Prison Type",values:a.prisons[u.prisonType||(u.liveAlien?0:null)]},o),l.a.createElement(Ue,{label:"Research Required to Purchase",values:u.requiresBuy},o),l.a.createElement(Ue,{label:"Services Required to Purchase",values:u.requiresBuyBaseFunc},o),l.a.createElement(Ue,{label:"Required to Use",values:u.requires},o),l.a.createElement(Ue,{label:"Component Of",values:u.componentOf},o),l.a.createElement(Ue,{label:"Compatible Ammunition",values:u.allCompatibleAmmo},o),l.a.createElement(Ue,{label:"Craft Weapon Entry",values:u.craftWeapons},o),l.a.createElement(Ue,{label:"Craft Ammo For",values:u.craftAmmo},o),l.a.createElement(Ue,{label:"Wearable Armor",values:u.wearableArmors},o),l.a.createElement(Ue,{label:"Sources",values:u.foundFrom},o),l.a.createElement(Ue,{label:"Script Tags",values:Object.entries(u.tags||{})}))};function at(e){var a,t=e.ruleset,n=e.file,r=e.id,c=e.size,o=void 0===c?1:c;return 1===o?(null===(a=t.sprites[n])||void 0===a?void 0:a.files[r])?l.a.createElement("img",{src:t.sprites[n].files["".concat(r)],className:"facilitySprite",alt:""}):l.a.createElement(ea,{size:"128px"}):2===o?t.sprites[n].files["".concat(r)]?l.a.createElement("div",{className:"facilitySprite"},l.a.createElement("img",{src:t.sprites[n].files["".concat(r)],alt:""}),l.a.createElement("img",{src:t.sprites[n].files["".concat(r+1)],alt:""}),l.a.createElement("img",{src:t.sprites[n].files["".concat(r+2)],alt:""}),l.a.createElement("img",{src:t.sprites[n].files["".concat(r+3)],alt:""})):l.a.createElement(ea,{size:"256px"}):void 0}var tt=function(e,a){return Object.keys(e.buildCostItems).map((function(t){return[t,e.buildCostItems[t][a]]}))};function nt(e){var a=e.facilities,t=e.children;if(!a.buildCostItems)return null;var n=tt(a,"build").filter((function(e){return e[1]})),r=tt(a,"refund").filter((function(e){return e[1]}));return l.a.createElement(l.a.Fragment,null,n.length&&l.a.createElement(Ue,{label:"Items Required",values:n},t),r.length&&l.a.createElement(Ue,{label:"Items Refunded",values:r},t))}var lt=["default","Prison","Manufacturing","Research","Training","Psi Training","Agents","Sell Screen"];function rt(e){var a=e.ruleset,t=e.lang,n=e.id,r=e.version,c=Ie(t,a),o=ua(r,c),i=Ea(o),u=a.entries[n].facilities;return u?l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(je,{label:"Facility"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Sprite",value:l.a.createElement(at,{ruleset:a,file:"BASEBITS.PCK",id:2===u.size?u.spriteShape:u.spriteFacility,size:u.size})}),l.a.createElement(Ge,{label:"Build Cost",value:u.buildCost},ze),l.a.createElement(Ge,{label:"Build Time",value:u.buildTime},qe),l.a.createElement(Ge,{label:"Monthly Cost",value:u.monthlyCost},ze),l.a.createElement(Ge,{label:"Size",value:u.size||1}),l.a.createElement(Ge,{label:"Max Allowed",value:u.maxAllowedPerBase}),l.a.createElement(Ge,{label:c("manaRecoveryPerDay"),value:u.manaRecoveryPerDay}),l.a.createElement(He,{label:"Access Lift?",value:u.lift}),l.a.createElement(He,{label:"Grav Shield?",value:u.grav}),l.a.createElement(He,{label:"Mind Shield?",value:u.mind}),l.a.createElement(He,{label:"Can Be Built Over",value:u.canBeBuiltOver}),l.a.createElement(He,{label:"Hyperwave Decoder?",value:u.hyper}),l.a.createElement(Ge,{label:"Demolish Refund",value:u.refundValue},ze),l.a.createElement(Ge,{label:"Holding Capacity",value:u.aliens}),l.a.createElement(Ge,{label:"Lab Capacity",value:u.labs}),l.a.createElement(Ge,{label:"Barracks Capacity",value:u.personnel}),l.a.createElement(Ge,{label:"Prison Type",value:u.prisonType}),l.a.createElement(Ge,{label:"Workshop Capacity",value:u.workshops}),l.a.createElement(Ge,{label:"Storage Capacity",value:u.storage}),l.a.createElement(Ge,{label:"Radar Range",value:u.radarRange}),l.a.createElement(Ge,{label:"Radar Detection Chance",value:u.radarChance},Ke),l.a.createElement(Ge,{label:"Defense Power",value:u.defense}),l.a.createElement(Ge,{label:"Hit Chance",value:u.hitRatio},Ke),l.a.createElement(Ge,{label:"Health Recovery (Flat)",value:u.sickBayAbsoluteBonus},(function(e){return"+".concat(e," Health/day")})),l.a.createElement(Ge,{label:"Health Recover (%)",value:u.sickBayRelativeBonus},(function(e){return"+".concat(e,"% of Max HP Health/day")})),l.a.createElement(Ge,{label:"Training Capacity",value:u.trainingRooms}),l.a.createElement(Ge,{label:"Right-Click Behavior",value:u.rightClickActionType},(function(e){return lt[e]}))),l.a.createElement(Ue,{label:"Required Research",values:u.requires},o),l.a.createElement(Ue,{label:"Required Services",values:u.requiresBaseFunc},c),l.a.createElement(Ue,{label:"Services Provided",values:u.provideBaseFunc},c),l.a.createElement(Ue,{label:"Services Forbidden",values:u.forbiddenBaseFunc},c),l.a.createElement(Ue,{label:"Upgrades From",values:u.buildOverFacilities},o),l.a.createElement(Ue,{label:"Upgrades To",values:u.upgradesTo},o),l.a.createElement(nt,{facilities:u},i)):null}function ct(e){var a=e.stats;return a?l.a.createElement(l.a.Fragment,null,l.a.createElement(Ge,{label:"Acceleration",value:a.accel}),l.a.createElement(Ge,{label:"Radar Range",value:a.radarRange}),l.a.createElement(Ge,{label:"Radar Detection Chance",value:a.radarChance},Ke),l.a.createElement(Ge,{label:"Sight Range",value:a.sightRange}),l.a.createElement(Ge,{label:"Max Fuel",value:a.fuelMax}),l.a.createElement(Ge,{label:"Max Health",value:a.damageMax}),l.a.createElement(Ge,{label:"Max Speed",value:a.speedMax}),l.a.createElement(Ge,{label:"Max Shields",value:a.shieldCapacity}),l.a.createElement(Ge,{label:"Shield Recharge (Dogfight)",value:a.shieldRecharge}),l.a.createElement(Ge,{label:"Shield Recharge (Flight)",value:a.shieldRechargedInGeoscape}),l.a.createElement(Ge,{label:"Shield Recharge (Base)",value:a.shieldRechargedAtBase}),l.a.createElement(Ge,{label:"Shield Bleedthrough",value:a.shieldBleedThrough},Ke),l.a.createElement(Ge,{label:"Accuracy Bonus",value:a.hitBonus},Ke),l.a.createElement(Ge,{label:"Power Bonus",value:a.powerBonus},Ke),l.a.createElement(Ge,{label:"Dodge Bonus",value:a.avoidBonus},Ke),l.a.createElement(Ge,{label:"Armor",value:a.armor})):null}function ot(e){var a=e.crafts,t=e.lc;if(!a.weapons)return null;for(var n=[],r=(a.weaponTypes||[0,0,0,0]).map((function(e){return[].concat(e)})),c=a.weaponStrings||["STR_WEAPON_ONE","STR_WEAPON_TWO"],o=0;o<a.weapons;o++)n.push(["Weapon Slot ".concat(o+1),"".concat(t(c[o])," (Type: ").concat(r[o].join(", "),")")]);return l.a.createElement(l.a.Fragment,null,n.map((function(e,a){var t=Object(s.a)(e,2),n=t[0],r=t[1];return l.a.createElement(Ge,{key:a,label:n,value:r})})))}function it(e){var a=e.ruleset,t=e.lang,n=e.id,r=e.version,c=Ie(t,a),o=ua(r,c),i=a.entries[n].crafts;return i?l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(je,{label:"Craft"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Weapon Slots",value:i.weapons}),l.a.createElement(ot,{crafts:i,lc:c}),l.a.createElement(Ge,{label:"Soldier Capacity",value:i.soldiers}),l.a.createElement(Ge,{label:"Vehicle Capacity",value:i.vehicles}),l.a.createElement(Ge,{label:"Pilots Required",value:i.pilots}),l.a.createElement(He,{label:"Allow Landing?",value:i.allowLanding}),l.a.createElement(Ge,{label:"Purchase Cost",value:i.costBuy},ze),l.a.createElement(Ge,{label:"Rental Cost",value:i.costRent},ze),l.a.createElement(Ge,{label:"Sale Price",value:i.costSell},ze),l.a.createElement(He,{label:"Show in Monthly Costs",value:i.forceShowInMonthlyCosts}),l.a.createElement(Ge,{label:"Refuel Item",value:i.refuelItem},o),l.a.createElement(Ge,{label:"Refuel Rate (per 30 min)",value:i.repairRate}),l.a.createElement(Ge,{label:"Transfer Time",value:i.transferTime},We),l.a.createElement(Ge,{label:"Score Loss (when destroyed)",value:i.score}),l.a.createElement(He,{label:"Keep Craft After Failed Mission?",value:i.keepCraftAfterFailedMission}),l.a.createElement(He,{label:"Space Capable?",value:i.spacecraft}),l.a.createElement(He,{label:"Notify When Refueled?",value:i.notifyWhenRefueled}),l.a.createElement(He,{label:"Auto Patrol?",value:i.autoPatrol}),l.a.createElement(Ge,{label:"Max Altitude",value:i.maxAltitude}),l.a.createElement(Ge,{label:"Max Items",value:i.maxItems}),l.a.createElement(ct,{stats:i})),l.a.createElement(Ue,{label:"Required Research",values:i.requires},o),l.a.createElement(Ue,{label:"Required Services",values:i.requiresBaseBuyFunc},o)):null}function ut(e){var a=e.ruleset,t=e.lang,n=e.id,r=e.version,c=Ie(t,a),o=ua(r,c),i=a.entries[n].craftWeapons;return i?l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(je,{label:"Craft Weapon"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Weapon Type",value:i.weaponType}),l.a.createElement(Ge,{label:"Damage",value:i.damage}),l.a.createElement(Ge,{label:"Range",value:i.range}),l.a.createElement(Ge,{label:"Accuracy",value:i.accuracy},Ke),l.a.createElement(Ge,{label:"Reload (Cautious)",value:i.reloadCautious}),l.a.createElement(Ge,{label:"Reload (Standard)",value:i.reloadStandard}),l.a.createElement(Ge,{label:"Reload (Aggressive)",value:i.reloadAggressive}),l.a.createElement(Ge,{label:"Ammo Count",value:i.ammoMax}),l.a.createElement(Ge,{label:"Rearm Rate",value:i.rearmRate}),l.a.createElement(Ge,{label:"Launcher",value:i.launcher},o),l.a.createElement(Ge,{label:"Ammunition",value:i.clip},o),l.a.createElement(He,{label:"Underwater Only?",value:i.underwaterOnly}),l.a.createElement(Ge,{label:"Tractor Beam Power",value:i.tractorBeamPower}),l.a.createElement(ct,{stats:i.stats})),l.a.createElement(Ue,{label:"Required Research",values:i.requires},o),l.a.createElement(Ue,{label:"Required Services",values:i.requiresBaseBuyFunc},o)):null}var st=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.key,c=Object(Be.a)(n,["key"]),o=e.sprites[t];if(!o)return"Sprite not found";var i=o.fileSingle||o.files[0];return l.a.createElement("img",Object.assign({key:r,src:i,alt:"",style:{zoom:a},"data-spriteid":t,className:"singleImage"},c))}},mt=["Prefer Interceptors","Prefer Transports","Random"],Et=["Flee","Never Flee","Random"];function dt(e){var a=e.ruleset,t=e.lang,n=e.id,r=e.version,c=Ie(t,a),o=ua(r,c),i=st(a),u=a.entries[n].ufos;return u?l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(je,{label:"UFO"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Sprite",value:u.sprite||u.modSprite},i),l.a.createElement(Ge,{label:"Size",value:u.size},c),l.a.createElement(Ge,{label:"Power",value:u.power}),l.a.createElement(Ge,{label:"Range",value:u.range}),l.a.createElement(Ge,{label:"Score",value:u.score}),l.a.createElement(Ge,{label:"Reload Time",value:u.reload}),l.a.createElement(Ge,{label:"Breakoff Time",value:u.breakOffTime}),l.a.createElement(Ge,{label:"Mission Score",value:u.missionScore}),l.a.createElement(Ge,{label:"Hunter-Killer Percentage",value:u.hunterKillerPercentage},Ke),l.a.createElement(Ge,{label:"Hunter-Killer Mode",value:u.huntMode},(function(e){return mt[e]})),l.a.createElement(Ge,{label:"Hunter-Killer Behavior",value:u.huntBehavior},(function(e){return Et[e]})),l.a.createElement(Ge,{label:"Hunt Speed",value:u.huntSpeed}),l.a.createElement(Ge,{label:"Bombardment Power",value:u.missilePower},(function(e){return-1===e?"Destroy Everything":"Destroy ".concat(e," Tiles")})),l.a.createElement(He,{label:"Unmanned?",value:u.unmanned}),l.a.createElement(Ge,{label:"Max Health",value:u.damageMax}),l.a.createElement(Ge,{label:"Max Speed",value:u.speedMax}),l.a.createElement(Ge,{label:"Max Shields",value:u.shieldCapacity}),l.a.createElement(Ge,{label:"Shield Recharge (Dogfight)",value:u.shieldRecharge}),l.a.createElement(Ge,{label:"Shield Recharge (Flight)",value:u.shieldRechargedInGeoscape}),l.a.createElement(Ge,{label:"Shield Bleedthrough",value:u.shieldBleedThrough},Ke),l.a.createElement(Ge,{label:"Radar Range",value:u.radarRange}),l.a.createElement(Ge,{label:"Radar Detection Chance",value:u.radarChance},Ke),l.a.createElement(Ge,{label:"Sight Range",value:u.sightRange}),l.a.createElement(Ge,{label:"Accuracy Bonus",value:u.hitBonus},Ke),l.a.createElement(Ge,{label:"Power Bonus",value:u.powerBonus},Ke),l.a.createElement(Ge,{label:"Dodge Bonus",value:u.avoidBonus},Ke),l.a.createElement(Ge,{label:"Armor",value:u.armor})),l.a.createElement(Ue,{label:"Requires Service",values:u.requiresBaseFunc},c),l.a.createElement(Ue,{label:"Get as a Result of ",values:u.seeAlso},o),l.a.createElement(Ue,{label:"Dependencies",values:u.dependencies},o),l.a.createElement(Ue,{label:"Leads To",values:u.leadsTo},o),l.a.createElement(Ue,{label:"Unlocked By",values:u.unlockedBy},o),l.a.createElement(Ue,{label:"Unlocks",values:u.unlocks},o),l.a.createElement(Ue,{label:"Manufacturing Process",values:u.manufacture},o),l.a.createElement(Ue,{label:"Contains Items",values:u.ufoItems},o),l.a.createElement(Ue,{label:"Contains Items (Random)",values:u.ufoRandomItems},o)):null}function vt(e){var a=e.armors,t=e.lc;return a?l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(Pe,{label:"Armor Rating"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{showZero:!0,label:t("STR_FRONT_ARMOR"),value:a.frontArmor}),l.a.createElement(Ge,{showZero:!0,label:t("STR_LEFT_ARMOR"),value:a.sideArmor+(a.leftArmorDiff||0)}),l.a.createElement(Ge,{showZero:!0,label:t("STR_RIGHT_ARMOR"),value:a.sideArmor}),l.a.createElement(Ge,{showZero:!0,label:t("STR_REAR_ARMOR"),value:a.rearArmor}),l.a.createElement(Ge,{showZero:!0,label:t("STR_UNDER_ARMOR"),value:a.underArmor}))):null}function ft(e){var a=e.resists,t=e.lc;return a?l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(Pe,{label:"Damage Modifiers"}),l.a.createElement("tbody",null,a.map((function(e,a){return l.a.createElement(Ge,{key:a,label:t(na[a]),value:Math.floor(100*e),showZero:!0},Ke)})))):null}var bt=["Walking","Flying","Sliding","Floating","Sinking"];function pt(e){var a=e.imageFn,t=e.id;return l.a.createElement("div",{className:"PaperDoll"},a(t))}function ht(e){var a=e.layersDefaultPrefix,t=e.layersDefinition,r=e.layersSpecificPrefix,c=void 0===r?{}:r,o=e.imageFn,i=Object(n.useState)(),u=Object(s.a)(i,2),m=u[0],E=u[1];if(!m)return E(Object.keys(t)[0]),null;var d=t[m].reduce((function(e,t,n){if(!t)return e;var l=c["".concat(n)]||a,r="".concat(l,"__").concat(n,"__").concat(t);return e.push(o(r,{key:n})),e}),[]);return l.a.createElement("div",{className:"PaperDoll"},l.a.createElement(Je,{options:Object.keys(t).sort(),value:m,onChange:E}),d)}function gt(e){var a=e.ruleset,t=e.id,r=e.imageFn,c=Object(n.useState)(),o=Object(s.a)(c,2),i=o[0],u=o[1],m=Object(n.useMemo)((function(){for(var e={},n=0;n<256;n++){var l="".concat(t,"M").concat(n,".SPK"),r="".concat(t,"F").concat(n,".SPK");a.sprites[l]&&(e["M".concat(n)]=l),a.sprites[r]&&(e["F".concat(n)]=r)}return e}),[a,t]);return Object.keys(m).length?i?l.a.createElement("div",{className:"PaperDoll"},l.a.createElement(Je,{options:Object.keys(m).sort(),value:i,onChange:u}),r(m[i])):(u(Object.keys(m)[0]),null):"No sprites found"}function yt(e){var a=e.ruleset,t=e.armors,n=e.imageFn,r=t.spriteInv,c=a.sprites[r];if(c&&(c.typeSingle||c.singleImage))return l.a.createElement(pt,{imageFn:n,id:r});var o=t.layersDefaultPrefix,i=t.layersSpecificPrefix,u=t.layersDefinition;return o&&u?l.a.createElement(ht,{layersDefaultPrefix:o,layersSpecificPrefix:i,layersDefinition:u,imageFn:n}):l.a.createElement(gt,{ruleset:a,id:r,imageFn:n})}function St(e){var a=e.ruleset,t=e.lang,n=e.id,r=e.version,c=Ie(t,a),o=ua(r,c),i=_a(c),u=st(a,2),s=a.entries[n].armors;return s?l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(je,{label:"Armor"}),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},l.a.createElement(yt,{ruleset:a,armors:s,imageFn:u}))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(vt,{armors:s,lc:c})),l.a.createElement("td",null,l.a.createElement(ft,{resists:s.damageModifier,lc:c})))),l.a.createElement(Qe,{recovery:s.recovery,lc:c,bonusFn:i}),l.a.createElement(Pe,{label:"Properties"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Required to Use",value:s.requires},o),l.a.createElement(Ge,{label:"Recovered Corpse",value:s.corpseGeo},o),l.a.createElement(Ge,{label:"Inventory Item",value:s.storeItem},o),l.a.createElement(Ge,{label:"Special Weapon",value:s.specialWeapon},o),l.a.createElement(Ge,{label:"Movement Type",value:s.movementType},(function(e){return bt[e]})),l.a.createElement(Ge,{label:"Size",value:s.size||1}),l.a.createElement(Ge,{label:"Weight",value:s.weight}),l.a.createElement(Ge,{label:"Day Vision",value:s.visibilityAtDay}),l.a.createElement(Ge,{label:"Night Vision",value:s.visibilityAtDark}),l.a.createElement(Ge,{label:"Personal Light",value:s.personalLight}),l.a.createElement(Ge,{label:"Camouflage (Day)",value:s.camouflageAtDay}),l.a.createElement(Ge,{label:"Camouflage (Night)",value:s.camouflageAtDark}),l.a.createElement(Ge,{label:"Camouflage Detection (Day)",value:s.antiCamouflageAtDay}),l.a.createElement(Ge,{label:"Camouflage Detection (Night)",value:s.antiCamouflageAtDark}),l.a.createElement(Ge,{label:"Thermal Vision",value:s.heatVision},Ke),l.a.createElement(Ge,{label:"Psi Sense",value:s.psiVision}),l.a.createElement(Ge,{label:"Overkill Threshold",value:100*s.overKill||50},Ke),l.a.createElement(He,{label:"Can Run?",value:s.allowsRunning}),l.a.createElement(He,{label:"Can Kneel?",value:s.allowsKneeling}),l.a.createElement(He,{label:"Can Strafe?",value:s.allowsStrafing}),l.a.createElement(He,{label:"Can Move?",value:s.allowsMoving}),l.a.createElement(He,{label:"Instant Wound Recovery?",value:s.instantWoundRecovery}),l.a.createElement(He,{label:"Fear Immune?",value:s.fearImmune}),l.a.createElement(He,{label:"Bleed Immune?",value:s.bleedImmune}),l.a.createElement(He,{label:"Pain Immune?",value:s.painImmune}),l.a.createElement(He,{label:"Zombie Immune?",value:s.zombiImmune}),l.a.createElement(He,{label:"CQC Immune?",value:s.ignoresMeleeThread}),l.a.createElement(He,{label:"CQC Capable?",value:s.createsMeleeThread}),l.a.createElement(Ge,{label:"Psi Defense",value:s.psiDefense},i),l.a.createElement(Ge,{label:"Melee Dodge",value:s.meleeDodge},i),l.a.createElement(Ge,{label:"Back Dodge Penalty",value:Math.floor(100*s.meleeDodgeBackPenalty),showZero:!0},Ke),l.a.createElement(Ge,{label:"Side Dodge Penalty",value:Math.floor(100*s.meleeDodgeBackPenalty)/2,showZero:!0},Ke),l.a.createElement(Xe,{entity:s})),l.a.createElement(Ye,{stats:s.stats,lc:c}),l.a.createElement(Ue,{label:"Equippable By",values:s.units||s.npcUnits},o),l.a.createElement(Ue,{label:"Corpse Item",values:s.corpseBattle},o),l.a.createElement(Ue,{label:"Built-in Weapons",values:s.builtInWeapons},o),l.a.createElement(Ue,{label:"Categories",values:s.categories},c),l.a.createElement(Ue,{label:"Required to Purchase",values:s.requiresBuy},o),l.a.createElement(Ue,{label:"Tags",values:Object.entries(s.tags||{})},Ze)):null}var Tt=["None","Explodes on Death","Burns Floor","Burns Floor and Explodes on Death"];function Rt(e){var a=e.ruleset,t=e.lang,n=e.id,r=e.version,c=Ie(t,a),o=ua(r,c),i=a.entries[n].units;if(!i)return null;var u=i.livingWeapon?function(e,a){var t=a.substr(4);if(e["".concat(t,"_WEAPON")])return"".concat(t,"_WEAPON");for(var n=t.split("_");n.length;){n.pop();var l="".concat(n.join("_"),"_WEAPON");if(e[l])return l}return null}(a.entries,n):null;return l.a.createElement(l.a.Fragment,null,l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(je,{label:"Unit"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Aggression",value:i.aggression}),l.a.createElement(Ge,{label:"Race",value:i.race},c),l.a.createElement(Ge,{label:"Rank",value:i.rank},c),l.a.createElement(Ge,{label:"Spotter",value:i.spotter}),l.a.createElement(Ge,{label:"Sniper",value:i.sniper}),l.a.createElement(Ge,{label:"Armor",value:i.armor},o),l.a.createElement(Xe,{entity:i}),l.a.createElement(Ge,{label:"Score",value:i.value}),l.a.createElement(Ge,{label:"Intelligence",value:i.intelligence}),l.a.createElement(He,{label:"Can Surrender?",value:i.canSurrender}),l.a.createElement(He,{label:"Auto Surrender",value:i.autoSurrender}),l.a.createElement(Ge,{label:"Aggression",value:i.aggression}),l.a.createElement(He,{label:"Mindless Aggro?",value:i.isLeeroyJenkins}),l.a.createElement(Ge,{label:"Energy Recovery",value:i.energyRecovery}),l.a.createElement(Ge,{label:"Special Ability",value:i.specab},(function(e){return Tt[e]})),l.a.createElement(Ge,{label:"Spawn on Death",value:i.spawnUnit},o),l.a.createElement(He,{label:"Is Living Weapon",value:i.livingWeapon}),l.a.createElement(Ge,{label:"Living Weapon",value:u},o),l.a.createElement(Ge,{label:"Melee Weapon",value:i.meleeWeapon},o),l.a.createElement(Ge,{label:"Psi Weapon",value:i.psiWeapon},o),l.a.createElement(He,{label:"Capturable",value:i.capturable}),l.a.createElement(Ge,{label:"Morale Loss When Killed",value:i.moraleLossWhenKilled},Ke)),l.a.createElement(Ye,{stats:i.stats,lc:c}),i.builtInWeaponSets&&i.builtInWeaponSets.map((function(e,a){return l.a.createElement(Ue,{key:a,label:"Built-In Weapons Set ".concat(a+1),values:e},o)}))),l.a.createElement(St,Object.assign({},e,{id:i.armor})))}var At={bravery:"STR_BRAVERY",firing:"STR_FIRING_ACCURACY",reactions:"STR_REACTIONS"};function Ot(e){var a=e.ruleset,t=e.lang,n=e.id,r=e.version,c=Ie(t,a),o=ua(r,c),i=a.entries[n].soldiers;if(!i)return null;var u=function(e){var a=Object(s.a)(e,2),t=a[0],n=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"InventoryQuantity"},n,"%")," ",c(At[t]))};return l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(je,{label:"Soldiers"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Default Armor",value:i.armor},o),l.a.createElement(He,{label:"Promotable?",value:i.allowPromotion}),l.a.createElement(He,{label:"Pilot?",value:i.allowPiloting}),l.a.createElement(Ge,{label:"Purchase Cost",value:i.costBuy},ze),l.a.createElement(Ge,{label:"Monthly Salary",value:i.costSalary},ze),l.a.createElement(Ge,{label:"Monthly Salary (".concat(c("STR_SQUADDIE"),")"),value:i.costSalarySquaddie},ze),l.a.createElement(Ge,{label:"Monthly Salary (".concat(c("STR_SERGEANT"),")"),value:i.costSalarySergeant},ze),l.a.createElement(Ge,{label:"Monthly Salary (".concat(c("STR_CAPTAIN"),")"),value:i.costSalaryCaptain},ze),l.a.createElement(Ge,{label:"Monthly Salary (".concat(c("STR_COLONEL"),")"),value:i.costSalaryColonel},ze),l.a.createElement(Ge,{label:"Monthly Salary (".concat(c("STR_COMMANDER"),")"),value:i.costSalaryCommander},ze),l.a.createElement(Xe,{entity:i}),l.a.createElement(Ge,{label:"Special Weapon",value:i.specialWeapon},o),l.a.createElement(Ge,{label:"Score",value:i.value}),l.a.createElement(Ge,{label:"Transfer Time",value:i.transferTime},We),l.a.createElement(Ge,{label:"Morale Loss When Killed",value:i.moraleLossWhenKilled},Ke)),l.a.createElement(Ue,{label:"Requires Research",values:i.requires},o),l.a.createElement(Ue,{label:"Manufacture Process",values:i.manufacture},o),l.a.createElement(Ue,{label:"Requires Services",values:i.requiresBuyBaseFunc},c),l.a.createElement(Ue,{label:"Available Armors",values:i.usableArmors},o),l.a.createElement(Ue,{label:"Available Transforms",values:i.$allowedTransform},o),l.a.createElement(Ye,{min:i.minStats,max:i.maxStats,lc:c}),l.a.createElement(Ye,{label:"Training Caps",stats:i.trainingStatCaps,lc:c}),l.a.createElement(Ye,{label:"Stat Caps",stats:i.statCaps,lc:c}),l.a.createElement(Ue,{label:"Dogfight Experience Chance",values:Object.entries(i.dogfightExperience||{})},u))}function wt(e){var a,t,n=e.deployment,r=n.lowQty,c=(null!==(a=n.dQty)&&void 0!==a?a:0)+(null!==(t=n.extraQty)&&void 0!==t?t:0),o=n.highQty,i=Math.ceil((r+o)/2);return l.a.createElement(l.a.Fragment,null,l.a.createElement(Pe,{label:"Number Appearing"}),l.a.createElement("tbody",null,l.a.createElement(Le,null,l.a.createElement(Fe.a,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Beginner/Experienced"),l.a.createElement("th",null,"Veteran/Genius"),l.a.createElement("th",null,"SuperHuman"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,r," - ",r+c),l.a.createElement("td",null,i," - ",i+c),l.a.createElement("td",null,o," - ",o+c)))))))}function _t(e){var a=e.ruleset,t=e.deployment,n=e.race,r=e.linkFn,c=e.idx,o=function(e,a,t){var n,l,r=t.alienRank,c=t.customUnitType,o=null===(n=e.entries[a])||void 0===n?void 0:n.alienRaces;return c?[c]:o?(null===(l=o.membersRandom)||void 0===l?void 0:l[r])||[o.members[r]]:null}(a,n,t);return l.a.createElement(l.a.Fragment,null,l.a.createElement(je,{label:"Alien Loadout ".concat(c)}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Rank",value:t.alienRank}),l.a.createElement(Ge,{label:"Percent Outside",value:t.percentageOutsideUfo})),l.a.createElement(Ue,{label:"Alien Types",values:o},r),l.a.createElement(wt,{deployment:t}),t.itemSets.map((function(e,a){return l.a.createElement(Ue,{key:a,label:"Item Set ".concat(a),values:e},r)})))}var It=["All Blocks","Map Script Blocks","Indicated Blocks","Script or Indicated","Script and Indicated"];function Mt(e){var a,t,n,r,c,o,i,u=e.ruleset,s=e.linkFn,m=e.race,E=e.idx,d=e.data,v=d.objectiveDestroyed||!!d.turns;return l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(je,{label:"Reinforcement[".concat(E,"] ").concat(d.type)}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Max Times Triggered",value:d.maxRuns}),l.a.createElement(Ge,{label:"Minimum Difficulty",value:d.minDifficulty}),l.a.createElement(Ge,{label:"Maximum Difficulty",value:d.maxDifficulty}),l.a.createElement(He,{label:"Objective Destroyed?",value:d.objectiveDestroyed}),l.a.createElement(He,{label:"Objective Destroyed?",value:d.objectiveDestroyed}),!d.objectiveDestroyed&&l.a.createElement(Ge,{label:"Turns",value:null===(a=d.turns)||void 0===a||null===(t=a.join)||void 0===t?void 0:t.call(a,", ")}),!v&&l.a.createElement(Ge,{label:"Minimum Turn",value:d.minTurn}),!v&&l.a.createElement(Ge,{label:"Maximum Turn",value:d.maxTurn}),l.a.createElement(Ge,{label:"Execution Odds",value:d.executionOdds||100},Ke),l.a.createElement(He,{label:"Use Spawn Nodes?",value:null===(n=d.useSpawnNodes)||void 0===n||n}),l.a.createElement(Ge,{label:"Spawn Mode",showZero:!0,value:d.mapBlockFilterType},(function(e){return It[e]})),l.a.createElement(He,{label:"Randomize Z-Levels?",value:null===(r=d.randomizeZLevels)||void 0===r||r}),l.a.createElement(Ge,{label:"Spawn Z-Levels",value:null===(c=d.spawnZLevels)||void 0===c||null===(o=c.join)||void 0===o?void 0:o.call(c,", ")}),l.a.createElement(Ge,{label:"Minimum Distance from X-Com Units",value:d.minDistanceFromXcomUnits}),l.a.createElement(Ge,{label:"Maximum Distance from Borders",value:d.maxDistanceFromBorders}),l.a.createElement(He,{label:"Force Spawn Near Friendly?",value:null===(i=d.forceSpawnNearFriend)||void 0===i||i})),l.a.createElement(Ue,{label:"Indicated Spawn Blocks",values:d.spawnBlocks}),d.data.map((function(e,a){return l.a.createElement(_t,{key:a,ruleset:u,linkFn:s,deployment:e,race:m,idx:a})})))}function kt(e){var a=e.reinforcements,t=Object(Be.a)(e,["reinforcements"]);return a?l.a.createElement(l.a.Fragment,null,a.map((function(e,a){return l.a.createElement(Mt,Object.assign({key:a},t,{data:e,idx:a}))}))):null}function Nt(e){var a=e.ruleset,t=e.lang,r=e.id,c=e.version,o=Ie(t,a),i=ua(c,o),u=Ea(i),E=a.entries[r].alienDeployments,d=null===E||void 0===E?void 0:E.race,v=null===E||void 0===E?void 0:E.randomRace,f=null===E||void 0===E?void 0:E.$prevStage,b=a.lookups.raceByDeployment,p=Object(n.useMemo)((function(){var e=new Set;return E?(v&&e.add(v),d&&e.add(d),b[r]&&b[r].forEach((function(a){return e.add(a)})),b[f]&&b[f].forEach((function(a){return e.add(a)})),console.log(Object(m.a)(e)),Object(m.a)(e)):[null]}),[r,E,d,v,f,b]),h=Object(n.useState)(p[0]),g=Object(s.a)(h,2),y=g[0],S=g[1];return Object(n.useEffect)((function(){S(p[0])}),[p]),E?l.a.createElement(l.a.Fragment,null,l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(je,{label:"Deployment"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Map Size",value:"".concat(E.width,"x").concat(E.length,"x").concat(E.height)}),l.a.createElement(Ge,{label:"Civilian Count",value:E.civilians}),l.a.createElement(Ge,{label:"Light Level",value:E.shade}),l.a.createElement(Ge,{label:"Min Light",value:E.minShade}),l.a.createElement(Ge,{label:"Max Light",value:E.maxShade}),l.a.createElement(Ge,{label:"Next Stage",value:E.nextStage},i),l.a.createElement(He,{label:"Final Mission",value:E.finalDestination}),l.a.createElement(Ge,{label:"Alert",value:E.alert},o),l.a.createElement(Ge,{label:"Duration",value:E.duration},(function(e){return"".concat(e[0]," - ").concat(e[1])})),l.a.createElement(Ge,{label:"Point Penalty",value:E.points}),l.a.createElement(Ge,{label:"Grants Research",value:E.unlockedResearch},i),l.a.createElement(Ge,{label:"Grants Item",value:E.missionBountyItem},i),l.a.createElement(Ge,{label:"Despawn Penalty",value:E.despawnPenalty}),l.a.createElement(Ge,{label:"Abort Penalty",value:E.abortPenalty}),l.a.createElement(Ge,{label:"Turn Limit",value:E.turnLimit}),l.a.createElement(Ge,{label:"Alien Race",value:p},p.length>1?function(e){return l.a.createElement(Je,{options:e,value:y||"",onChange:S},(function(e){return"".concat(o(e)," [").concat(e,"]")}))}:function(e){return o(e[0])})),l.a.createElement(Ue,{label:"Variant Of",values:E.$variant},i),l.a.createElement(Ue,{label:"Map Items",values:E.terrainItems},i),l.a.createElement(Ue,{label:"Map Items (Random)",values:E.terrainRandomItems},i),l.a.createElement(Ue,{label:"Civilians",values:Object.entries(E.civiliansByType||{})},u),E.data.map((function(e,t){return l.a.createElement(_t,{key:t,ruleset:a,linkFn:i,deployment:e,race:y,idx:t})}))),l.a.createElement(kt,{ruleset:a,linkFn:i,race:y,reinforcements:E.reinforcements})):null}function Ct(e){var a=e.ruleset,t=e.lang,n=e.id,r=e.version,c=Ie(t,a),o=ua(r,c),i=a.entries[n].alienRaces;return i?l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(je,{label:"Alien Race"}),i.members&&!i.membersRandom?l.a.createElement(Ue,{label:"Members",values:i.members},(function(e,a){return l.a.createElement("div",null,l.a.createElement("div",null,"Rank ",a),o(e))})):null,i.membersRandom?l.a.createElement(Ue,{label:"Members",values:i.membersRandom},(function(e,a){return l.a.createElement("div",{key:a},l.a.createElement("div",null,"Rank ",a),e.map((function(e,a){return l.a.createElement("div",{key:a},o(e))})))})):null):null}function xt(e){var a=e.bonus,t=e.lc,n=e.showHeader,r=void 0===n||n,c=_a(t);return a?l.a.createElement(l.a.Fragment,null,r&&l.a.createElement(je,{label:"Soldier Bonus"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Night Vision",value:a.visibilityAtDark})),l.a.createElement(Ye,{label:"Stat Bonuses",showZero:!1,stats:a.stats,lc:t}),l.a.createElement(Qe,{label:"Stat Recovery",recovery:a.recovery,bonusFn:c,lc:t})):null}function Dt(e){var a,t,n,r=e.ruleset,c=e.lang,o=e.id,i=e.version,u=Ie(c,r),s=ua(i,u),m=r.entries[o].soldierTransformation;return m?l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(je,{label:"Soldier Transformation"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Cost",value:m.cost},ze),l.a.createElement(Ge,{label:"Transfer Time",value:m.transferTime},We),l.a.createElement(Ge,{label:"Recovery Time",value:m.recoveryTime},We),l.a.createElement(Ge,{label:"Produced Item",value:m.producedItem},s),l.a.createElement(Ge,{label:"Produced Soldier Type",value:m.producedSoldierType},s),l.a.createElement(Ge,{label:"Produced Soldier Armor",value:m.producedSoldierArmor},s),l.a.createElement(Ge,{label:"Produced Item",value:m.producedItem},s),l.a.createElement(Ge,{label:"Minimum Rank",value:m.minRank}),l.a.createElement(Ge,{label:"Produced Item",value:m.producedItem},s),l.a.createElement(He,{label:"Keep Soldier Armor?",value:m.keepSoldierArmor}),l.a.createElement(He,{label:"Creates Clone?",value:m.createsClone}),l.a.createElement(He,{label:"Needs Corpse Recovered?",value:null===(a=m.needsCorpseRecovered)||void 0===a||a}),l.a.createElement(He,{label:"Allows Wounded Soldiers?",value:m.allowsWoundedSoldiers}),l.a.createElement(He,{label:"Allows Dead Soldiers?",value:m.allowsDeadSoldiers}),l.a.createElement(He,{label:"Allows Live Soldiers?",value:null===(t=m.allowsLiveSoldiers)||void 0===t||t}),l.a.createElement(He,{label:"Include Bonuses for Min Stats?",value:m.includeBonusesForMinStats}),l.a.createElement(He,{label:"Reset Transformations?",value:m.reset}),l.a.createElement(He,{label:"Show Stat Gain Range?",value:m.showMinMax}),l.a.createElement(He,{label:"Allow Below Minimum Results?",value:null===(n=m.lowerBoundAtMinStats)||void 0===n||n}),l.a.createElement(He,{label:"Allow Above Starting Maximum Results?",value:m.upperBoundAtMaxStats}),l.a.createElement(He,{label:"Allow Above Maximum Results?",value:m.upperBoundAtStatCaps}),l.a.createElement(He,{label:"Upper Bound Calculation?",value:m.upperBoundType})),l.a.createElement(Ue,{label:"Requires Research",values:m.requires},s),l.a.createElement(Ue,{label:"Requires Services",values:m.requiresBaseFunc},u),l.a.createElement(Ue,{label:"Allowed Soldier Types",values:m.allowedSoldierTypes},s),l.a.createElement(Ue,{label:"Required Transformations",values:m.requiredPreviousTransformations},s),l.a.createElement(Ue,{label:"Forbidden Transformations",values:m.forbiddenPreviousTransformations},s),l.a.createElement(Ue,{label:"Required Items",values:m.requiredItems},s),l.a.createElement(Ue,{label:"Required Commendations",values:m.requiredCommendations},u),l.a.createElement(Ye,{showZero:!1,label:"Required Stats",stats:m.requiredMinStats,lc:u}),l.a.createElement(Ye,{showZero:!1,label:"Flat Stats Change",stats:m.flatOverallStatChange,lc:u}),l.a.createElement(Ye,{label:"Flat Stats Range",min:m.flatMin,max:m.flatMax,lc:u}),l.a.createElement(Ye,{showZero:!1,label:"Percent Stats Change",stats:m.percentOverallStatChange,lc:u}),l.a.createElement(Ye,{label:"Percent Stats Range",min:m.percentMin,max:m.percentMax,lc:u}),l.a.createElement(Ye,{showZero:!1,label:"Percent Gained Stats Change",stats:m.percentGainedStatChange,lc:u}),l.a.createElement(Ye,{label:"Percent Gained Stats Range",min:m.percentGainedMin,max:m.percentGainedMax,lc:u}),l.a.createElement(xt,{bonus:r.lookups.soldierBonuses[m.soldierBonusType],lc:u})):null}function Ft(e,a){return Object.keys(e).reduce((function(t,n){var l=e[n];return t[n]=t[n]||0,t[n]+=l.length>a?l[a]:l[l.length-1],t}),{})}var Bt=function(e){var a=e.criteria,t=e.kcLabel;return Object.keys(a).map((function(e,n){var r=e.startsWith("killsWithCriteria")?t:e;return l.a.createElement("div",{key:n,className:"CommendationCriteria"},l.a.createElement("div",null,r),l.a.createElement("aside",null,"x",a[e]))}))},jt={STR_KILLED:"kill",STATUS_DEAD:"kill",STR_STUNNED:"stunned",STATUS_UNCONSCIOUS:"stunned",STR_PANICKED:"panicked",STATUS_PANICKING:"panicked",STR_MINDCONTROLLED:"controlled",STATUS_TURNING:"controlled"},Pt={FACTION_PLAYER:"friendly ",FACTION_HOSTILE:"enemy ",FACTION_NEUTRAL:"neutral "};function Lt(e,a){var t=[];return e?(e.forEach((function(e){var n=[];e.forEach((function(e){var t=Object(s.a)(e,2),l=t[0],r=t[1];n.push(function(e,a,t){var n=new Set(a),l=a.find((function(e){return jt[e]})),r=a.find((function(e){return Pt[e]}));n.delete(l),n.delete(r);var c="using ".concat(Object(m.a)(n).map(t).join(", "));return"".concat(e," ").concat(Pt[r]||"").concat(jt[l]||"defeated"," ").concat(n.size?c:"")}(l,r,a))})),t.push(n.join(" AND "))})),t.join(" OR ")):null}function Gt(e){var a=e.ruleset,t=e.lang,r=e.id,c=(e.version,Ie(t,a)),o=a.entries[r].commendations,i=null===o||void 0===o?void 0:o.killCriteria,u=Object(n.useMemo)((function(){return Lt(i,c)}),[i,c]);if(!o)return null;var m=function(e){for(var a,t=null===(a=e.soldierBonusTypes)||void 0===a?void 0:a.length,n=[],l=0;l<t;l++)n.push([Ft(e.criteria,l),e.soldierBonusTypes[l]]);return n}(o);return l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(je,{label:"Commendation"}),l.a.createElement("tbody",null,m.map((function(e,t){var n=Object(s.a)(e,2),r=n[0],o=n[1];return l.a.createElement("tr",{key:t},l.a.createElement("td",null,l.a.createElement(Bt,{criteria:r,kcLabel:u})),l.a.createElement("td",null,l.a.createElement(Fe.a,null,l.a.createElement(xt,{bonus:a.lookups.soldierBonuses[o],showHeader:!1,lc:c}))))}))))}function Ht(e){var a={},t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a[e]=a[e]+t||t},n=e.everyItemList,l=e.everyMultiItemList;return(n||[]).forEach((function(e){return t(e)})),Object.entries(l||{}).forEach((function(e){var a=Object(s.a)(e,2),n=a[0],l=a[1];t(n,l)})),a}function Ut(e){var a={};if(!e||!e.weightedItemList)return{};var t=e.weightedItemList,n=0;Object.entries(t).forEach((function(e){var t=Object(s.a)(e,2),l=t[0],r=t[1];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;a[e]=a[e]+t||t}(l,r),n+=r}));var l=Object.entries(a).sort((function(e,a){return a[1]-e[1]}));return{denominator:n,rows:l}}function zt(e){var a=e.label,t=e.denominator,n=e.rows,r=e.children;return n?l.a.createElement(l.a.Fragment,null,l.a.createElement(Pe,{label:a}),l.a.createElement("tbody",null,n.map((function(e,a){var n=Object(s.a)(e,2),c=n[0],o=n[1];return l.a.createElement("tr",{key:a},l.a.createElement("td",null,r(c)),l.a.createElement("td",null,o,"/",t," (",(100*o/t).toFixed(2),"%)"))})))):null}function Wt(e){var a=e.data,t=e.linkFn,r=Object(n.useCallback)((function(e){var a=Object(s.a)(e,2),n=a[0],r=a[1];return l.a.createElement("div",{className:"EventTrigger"},l.a.createElement("span",{className:"TriggerLabel"},t(n)),l.a.createElement("span",{className:"TriggerStatus"},"".concat(r).toUpperCase()))}),[t]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(je,{label:"Trigger: ".concat(a.type)}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"First Month",value:a.firstMonth}),l.a.createElement(Ge,{label:"Last Month",value:a.lastMonth}),l.a.createElement(Ge,{label:"Execution Chance",value:a.executionOdds},Ke),l.a.createElement(Ge,{label:"Minimum Difficulty",showZero:!0,value:a.minDifficulty}),l.a.createElement(Ge,{label:"Maximum Difficulty",showZero:!0,value:a.maxDifficulty}),l.a.createElement(Ge,{label:"Minimum Score",showZero:!0,value:a.minScore}),l.a.createElement(Ge,{label:"Maximum Score",showZero:!0,value:a.maxScore}),l.a.createElement(Ge,{label:"Minimum Funds",showZero:!0,value:a.minFunds}),l.a.createElement(Ge,{label:"Maximum Funds",showZero:!0,value:a.maxFunds}),l.a.createElement(He,{label:"Affects Progression?",value:a.affectsGameProgression})),l.a.createElement(Ue,{label:"Item Triggers",values:Object.entries(a.itemTriggers||{})},r),l.a.createElement(Ue,{label:"Facility Triggers",values:Object.entries(a.facilityTriggers||{})},r),l.a.createElement(Ue,{label:"Research Triggers",values:Object.entries(a.researchTriggers||{})},r))}function qt(e){var a=e.ruleset,t=e.lang,r=e.id,c=e.version,o=Ie(t,a),i=ua(c,o),u=Ea(i),s=a.entries[r].events,E=Object(n.useMemo)((function(){return Ut(s)}),[s]);return s?l.a.createElement(Fe.a,{bordered:!0,striped:!0,size:"sm",className:"auto-width"},l.a.createElement(je,{label:"Event"}),l.a.createElement("tbody",null,l.a.createElement(Ge,{label:"Description",value:s.description},(function(e){return l.a.createElement("p",{dangerouslySetInnerHTML:{__html:o(e)}})})),l.a.createElement(Ge,{label:"Points",value:s.points}),l.a.createElement(Ge,{label:"Funds",value:s.funds},ze),l.a.createElement(Ge,{label:"Spawned Persons",value:s.spawnedPersons}),l.a.createElement(Ge,{label:"Spawned Person Type",value:s.spawnedPersonType},i),l.a.createElement(Ge,{label:"Interrupted by Research",value:s.interruptResearch},i),l.a.createElement(Ge,{label:"Timer",value:s.timer}),l.a.createElement(Ge,{label:"timerRandom",value:s.timerRandom})),l.a.createElement(Ue,{label:"Grants One Research",values:s.researchList},i),l.a.createElement(Ue,{label:"Get Random Item",values:s.randomItemList},i),l.a.createElement(Ue,{label:"Guaranteed Items",values:Object.entries(Ht(s))},u),l.a.createElement(zt,Object.assign({label:"Weighted Items"},E),i),(Object(m.a)(a.lookups.eventScriptsByEvent[s.name])||[]).map((function(e,t){return l.a.createElement(Wt,{key:t,data:a.lookups.eventScripts[e],linkFn:i})}))):null}t(424);var Kt=function(){return l.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-file-earmark-code",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M4 1h5v1H4a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V6h1v7a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2z"}),l.a.createElement("path",{d:"M9 4.5V1l5 5h-3.5A1.5 1.5 0 0 1 9 4.5z"}),l.a.createElement("path",{fillRule:"evenodd",d:"M8.646 6.646a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L10.293 9 8.646 7.354a.5.5 0 0 1 0-.708zm-1.292 0a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0 0 .708l2 2a.5.5 0 0 0 .708-.708L5.707 9l1.647-1.646a.5.5 0 0 0 0-.708z"}))};var Zt=function(e){var a,t=e.ruleset,r=e.lang,c=Object(o.h)(),i=c.id,u=c.version,m=Ie(r,t),E=Object(n.useState)(!1),d=Object(s.a)(E,2),v=d[0],f=d[1],b=t.entries[i];if(!b)return l.a.createElement(o.a,{to:"/".concat(u)});var p={ruleset:t,lang:r,id:i,version:u};return l.a.createElement("main",{className:"articleContainer"},l.a.createElement("article",{className:"rulesetArticle"},l.a.createElement("header",null,l.a.createElement("span",null,m(i)),l.a.createElement("button",{className:"iconButton",onClick:function(){return f(!0)}},l.a.createElement(Kt,null))),l.a.createElement("p",{dangerouslySetInnerHTML:{__html:(null===(a=b.ufopaedia)||void 0===a?void 0:a.text)&&m(b.ufopaedia.text)}}),l.a.createElement(Rt,p),l.a.createElement(St,p),l.a.createElement(ma,p),l.a.createElement(Aa,p),l.a.createElement(va,p),l.a.createElement(et,p),l.a.createElement(rt,p),l.a.createElement(it,p),l.a.createElement(ut,p),l.a.createElement(dt,p),l.a.createElement(Ot,p),l.a.createElement(Nt,p),l.a.createElement(Ct,p),l.a.createElement(Dt,p),l.a.createElement(Gt,p),l.a.createElement(qt,p),l.a.createElement(J.a,{show:v,onHide:function(){return f(!1)},dialogClassName:"modal-80w",centered:!0,animation:!1},l.a.createElement(J.a.Header,{closeButton:!0},l.a.createElement(J.a.Title,null,"Debug")),l.a.createElement(J.a.Body,{className:"debugPane"},l.a.createElement(De.a,{src:b})))))},Vt=(t(425),t(201)),Yt=t(203),$t=function(e){Object(Yt.a)(t,e);var a=Object(Vt.a)(t);function t(e){var n;return Object(I.a)(this,t),(n=a.call(this,e)).state={hasError:!1},n}return Object(M.a)(t,[{key:"render",value:function(){if(this.state.hasError){var e=this.props.config,a=e.contactURL,t=e.contactLabel;return l.a.createElement("h1",null,"Something went wrong. You should let people know at ",l.a.createElement("a",{href:a},t))}return this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(l.a.Component);function Qt(){var e=Object(n.useState)(),a=Object(s.a)(e,2),t=a[0],r=a[1];return Object(n.useEffect)((function(){fetch("/main.html").then((function(e){return e.text()})).then((function(e){return r(e)}))}),[]),l.a.createElement("div",{className:"welcome"},l.a.createElement("div",{className:"welcomePage",dangerouslySetInnerHTML:{__html:t}}))}function Xt(e){var a=e.status;return l.a.createElement(J.a,{show:!0,backdrop:"static",keyboard:!1,animation:!1,centered:!0},l.a.createElement(J.a.Body,null,l.a.createElement(ee.a,{min:0,max:a.max,now:a.now,animated:!0}),l.a.createElement("div",null,a.status)))}var Jt=function(){return l.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-gear",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{fillRule:"evenodd",d:"M8.837 1.626c-.246-.835-1.428-.835-1.674 0l-.094.319A1.873 1.873 0 0 1 4.377 3.06l-.292-.16c-.764-.415-1.6.42-1.184 1.185l.159.292a1.873 1.873 0 0 1-1.115 2.692l-.319.094c-.835.246-.835 1.428 0 1.674l.319.094a1.873 1.873 0 0 1 1.115 2.693l-.16.291c-.415.764.42 1.6 1.185 1.184l.292-.159a1.873 1.873 0 0 1 2.692 1.116l.094.318c.246.835 1.428.835 1.674 0l.094-.319a1.873 1.873 0 0 1 2.693-1.115l.291.16c.764.415 1.6-.42 1.184-1.185l-.159-.291a1.873 1.873 0 0 1 1.116-2.693l.318-.094c.835-.246.835-1.428 0-1.674l-.319-.094a1.873 1.873 0 0 1-1.115-2.692l.16-.292c.415-.764-.42-1.6-1.185-1.184l-.291.159A1.873 1.873 0 0 1 8.93 1.945l-.094-.319zm-2.633-.283c.527-1.79 3.065-1.79 3.592 0l.094.319a.873.873 0 0 0 1.255.52l.292-.16c1.64-.892 3.434.901 2.54 2.541l-.159.292a.873.873 0 0 0 .52 1.255l.319.094c1.79.527 1.79 3.065 0 3.592l-.319.094a.873.873 0 0 0-.52 1.255l.16.292c.893 1.64-.902 3.434-2.541 2.54l-.292-.159a.873.873 0 0 0-1.255.52l-.094.319c-.527 1.79-3.065 1.79-3.592 0l-.094-.319a.873.873 0 0 0-1.255-.52l-.292.16c-1.64.893-3.433-.902-2.54-2.541l.159-.292a.873.873 0 0 0-.52-1.255l-.319-.094c-1.79-.527-1.79-3.065 0-3.592l.319-.094a.873.873 0 0 0 .52-1.255l-.16-.292c-.892-1.64.902-3.433 2.541-2.54l.292.159a.873.873 0 0 0 1.255-.52l.094-.319z"}),l.a.createElement("path",{fillRule:"evenodd",d:"M8 5.754a2.246 2.246 0 1 0 0 4.492 2.246 2.246 0 0 0 0-4.492zM4.754 8a3.246 3.246 0 1 1 6.492 0 3.246 3.246 0 0 1-6.492 0z"}))},en=function(e){return l.a.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-list",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),l.a.createElement("path",{fillRule:"evenodd",d:"M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"}))},an=function(e){var a=e.title,t=e.children;return l.a.createElement(oe.a,{as:re.a},l.a.createElement(oe.a.Toggle,{as:ce.a},a),l.a.createElement(oe.a.Menu,{rootCloseEvent:"click",alignRight:!0},t))};function tn(e){var a=e.lang,t=e.setLanguage,r=e.versions,c=Object(o.h)().version,u=function(e,a){var t=Object(n.useState)(["INIT"]),l=Object(s.a)(t,2),r=l[0],c=l[1],o=Object(n.useState)(),i=Object(s.a)(o,2),u=i[0],m=i[1],E=Object(n.useRef)(),d=Object(n.useRef)();Object(n.useEffect)((function(){E.current!==e&&console.log("Version changed:",E.current,e),d.current!==a&&console.log("Versions changed:",d.current,a),a[e]?$(e,we,c).then((function(e){m(e),c(["COMPLETE"]),window.db=e})):c(["INVALID"]),E.current=e,d.current=a}),[e,a]);var v=Object(ie.a)(r),f=v[0],b=v.slice(1);return{statusKey:f,status:_e[f](b),result:u}}(c,r),m=u.result,E=u.status,d=u.statusKey,v=Object(o.i)().path,f=function(){var e=Object(n.useState)(Math.min(window.screen.width,window.screen.height)<768||navigator.userAgent.indexOf("Mobi")>-1),a=Object(s.a)(e,2),t=a[0],l=a[1];return Object(n.useLayoutEffect)((function(){var e=function(){var e=Math.min(window.screen.width,window.screen.height)<768||navigator.userAgent.indexOf("Mobi")>-1;l(e)};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),function(){window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}}),[]),t}(),b=Object(n.useState)(!1),p=Object(s.a)(b,2),h=p[0],g=p[1];if(!r[c])return l.a.createElement(o.a,{to:"/"});if("COMPLETE"!==d)return l.a.createElement(Xt,{status:E});var S=m.config,T=m.supportedLanguages,R=m.ruleset;return l.a.createElement(l.a.Fragment,null,l.a.createElement(ae.a,{noGutters:!0},l.a.createElement(te.a,null,l.a.createElement(ne.a,{bg:"dark",variant:"dark"},l.a.createElement(ne.a.Brand,{className:"mr-auto"},f&&l.a.createElement(en,{onClick:function(){return g(!h)}}),l.a.createElement(i.b,{to:"/".concat(c)},S.title," - ",c)),!f&&l.a.createElement(le.a,{title:y[a],rootCloseEvent:"click"},T.map((function(e){return l.a.createElement(le.a.Item,{key:e,onClick:function(){return t(e)}},y[e])}))),l.a.createElement(an,{title:l.a.createElement(Jt,null)},l.a.createElement(le.a.Item,{onClick:Z},"Clear Local DB"))))),l.a.createElement(ae.a,{noGutters:!0,className:"content"},!f&&l.a.createElement(te.a,{xs:12,sm:4,md:3,lg:2,className:"sidebarContainer"},l.a.createElement(Ce,{lang:a,currentVersion:c,versions:r,ruleset:R})),f&&l.a.createElement("div",{className:"mobileSidebarContainer ".concat(h?"":"hide")},l.a.createElement(Ce,{lang:a,currentVersion:c,versions:r,ruleset:R,onClick:function(){return g(!1)}})),l.a.createElement(te.a,{xs:12,sm:8,md:9,lg:10,className:"mainContainer"},l.a.createElement(o.d,null,l.a.createElement(o.b,{path:v,exact:!0},l.a.createElement(Qt,null)),l.a.createElement(o.b,{path:"".concat(v,"/article/:id")},l.a.createElement($t,{config:S},l.a.createElement(Zt,{ruleset:R,lang:a}))),l.a.createElement(o.a,{to:"/".concat(c)})))))}t(427);function nn(e){return Object.keys(e)[0]}function ln(e){var a=e.clear;return Object(n.useEffect)((function(){a()}),[a]),l.a.createElement(o.a,{to:"/"})}var rn=function(){var e=X(),a=e.versions,t=e.config,n=e.setLanguage,r=e.clearDB;return l.a.createElement(i.a,null,a&&t&&l.a.createElement(o.d,null,l.a.createElement(o.b,{path:"/",exact:!0},l.a.createElement(o.a,{to:"/".concat(nn(a))})),l.a.createElement(o.b,{path:"/admin/_clearDB",exact:!0},l.a.createElement(ln,{clear:r})),l.a.createElement(o.b,{path:"/:version"},l.a.createElement(tn,{lang:t.currentLanguage,setLanguage:n,versions:a}))))};t(428);c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(rn,null)),document.getElementById("root"))}},[[205,1,2]]]);
//# sourceMappingURL=main.059b1c6d.chunk.js.map